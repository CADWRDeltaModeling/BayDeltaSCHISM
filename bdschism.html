<!-- Empty override file take the place of env/lib/python3.8/site-packages/sphinx_rtd_theme/breadcrumbs.html, which generates the top nav breadcrumbs. -->

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>bdschism package &mdash; Bay-Delta SCHISM</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/style.css?v=8686dbcc" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=ca842793"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="bdschism.config package" href="bdschism.config.html" />
    <link rel="prev" title="References" href="refs.html" />
    <link href="_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/logo6.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Bay-Delta SCHISM Project</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getmodel.html">Installation And Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getmodel.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="getmodel.html#schism-software-code-binaries">SCHISM Software Code/Binaries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getmodel.html#downloading">Downloading</a></li>
<li class="toctree-l3"><a class="reference internal" href="getmodel.html#compile-settings">Compile Settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getmodel.html#bay-delta-schism-python-package">Bay-Delta SCHISM Python Package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getmodel.html#id1">Downloading</a></li>
<li class="toctree-l3"><a class="reference internal" href="getmodel.html#contents">Contents</a></li>
<li class="toctree-l3"><a class="reference internal" href="getmodel.html#bathymetry">Bathymetry</a></li>
<li class="toctree-l3"><a class="reference internal" href="getmodel.html#complete-sample-inputs">Complete Sample Inputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="getmodel.html#other-required-python-packages">Other Required Python Packages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getmodel.html#configuration-system">Configuration System</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getmodel.html#id3">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="getmodel.html#configuration-file-locations-and-priorities">Configuration File Locations and Priorities</a></li>
<li class="toctree-l3"><a class="reference internal" href="getmodel.html#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="getmodel.html#example-configuration-file">Example Configuration File</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getmodel.html#visit-schism-plug-in">VisIt SCHISM Plug-in</a></li>
<li class="toctree-l2"><a class="reference internal" href="getmodel.html#links-to-tools">Links to tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user_guide.html">Bay-Delta SCHISM User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="user_guide.html#essentials-for-running-the-model">Essentials for Running the Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="topics/processed_run.html">Running a Preprepared Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="topics/overview.html">Overview of a Bay-Delta SCHISM Run</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/overview.html#grid-and-spatial-data">Grid and Spatial Data</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/overview.html#templates">Templates</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/overview.html#preprocessor">Preprocessor</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="topics/overview.html#time-dependent-data">Time-dependent data</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/overview.html#files-that-change-with-both-mesh-and-dates">Files that Change with Both Mesh and Dates</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/overview.html#driver-files-param-tropic-nml-param-clinic-nml">Driver Files (param.tropic.nml, param.clinic.nml)</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/overview.html#other-nomenclature-and-concepts">Other Nomenclature and Concepts</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/overview.html#organizing-the-launch-directory">Organizing the Launch Directory</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/vignette.html">Vignette: Hindcast Bay Delta SCHISM at Delta Modeling Section with Preprocessor</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/vignette.html#windows">Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/vignette.html#linux">Linux</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/vignette.html#barotropic">Barotropic</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/vignette.html#baroclinic">Baroclinic</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/files_and_directories.html">Required Files, Directory Structure and Recommended Study Practices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/files_and_directories.html#required-files-and-structure">Required files and structure</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/files_and_directories.html#schism-launch-directory-structure">SCHISM launch directory structure</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/files_and_directories.html#launch-directory">Launch directory</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/files_and_directories.html#output-directory">Output directory</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/files_and_directories.html#atmospheric-sflux-directory">Atmospheric (sflux) directory</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="topics/files_and_directories.html#study-layout">Study layout</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/preprocess.html">Grid, Spatial Data and Preprocessor</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/preprocess.html#do-i-need-it-copy-existing-run-vs-preprocess-from-template">Do I need it? Copy existing run vs preprocess from template?</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/preprocess.html#running-the-preprocessor">Running the preprocessor</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/preprocess.html#applying-the-template">Applying the template</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/preprocess.html#partial-preprocessing-for-modification">Partial preprocessing for modification</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="topics/preprocess.html#configuring-the-input-yaml">Configuring the input (yaml)</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/preprocess.html#where-to-required-files-and-directory-structure">Where to? Required files and directory structure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/volume.html">Volumetric Refinement and Smoothing, Depth Enforcement</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/volume.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/volume.html#mathematical-formulation">Mathematical Formulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/volume.html#depth-enforcement">Depth Enforcement</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/volume.html#shoreline-discovery-seeds">Shoreline Discovery Seeds</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/volume.html#preprocessor-integration">Preprocessor Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/volume.html#inline-parameters-annotated">Inline Parameters (Annotated)</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/volume.html#examples">Examples</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/volume.html#sacramento-river-and-threemile-slough">Sacramento River and Threemile Slough</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/volume.html#middle-river-and-northern-mildred-island">Middle River and northern Mildred Island</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user_guide.html#boundaries-input-files">Boundaries &amp; Input Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="topics/ocean.html">Prepare Ocean Boundary (elev2D.th.nc)</a></li>
<li class="toctree-l3"><a class="reference internal" href="topics/flow_boundary.html">Inflow/Outflow Boundaries</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/flow_boundary.html#where-are-the-data">Where are the data?</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/flow_boundary.html#clipping-to-run-dates-and-conversion-to-elapsed-time">Clipping to run dates and conversion to elapsed time</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/flow_boundary.html#what-if-i-have-to-add-or-move-a-boundary">What if I have to add or move a boundary?</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/flow_boundary.html#adding-data-from-other-sources-e-g-forecasts-other-models">Adding Data From Other Sources (e.g. Forecasts, other models)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/atmospheric.html">Atmospheric setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/atmospheric.html#basic-introduction-and-requirements">Basic introduction and requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/atmospheric.html#where-are-the-data">Where are the data?</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/atmospheric.html#pointing-to-the-data-with-make-links-full-py">Pointing to the data with make_links_full.py</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/barotropic.html">Ocean Boundary Stabilization: Barotropic Warmup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/barotropic.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/barotropic.html#workflow">Workflow</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/barotropic.html#bctides-in">bctides.in</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/barotropic.html#param-nml">param.nml</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/barotropic.html#vgrid-in">vgrid.in</a><ul>
<li class="toctree-l6"><a class="reference internal" href="topics/barotropic.html#run-interpolate-variables-to-get-uv3d-th-nc">Run interpolate_variables to get uv3D.th.nc</a></li>
<li class="toctree-l6"><a class="reference internal" href="topics/barotropic.html#move-the-outputs-directory-aside">Move the outputs directory aside</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/param.html">Key Run Parameters and Gotchas</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/param.html#runtime-settings">Runtime settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/param.html#hotstart-settings">Hotstart settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/param.html#nudging-settings">Nudging settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/param.html#output-requests">Output requests</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/param.html#settings-that-have-historically-gone-awry">Settings that have historically gone awry</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/param.html#what-happens-when-schism-versions-get-advanced">What happens when SCHISM versions get advanced?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/hotstart.html">Run Initialization and Restart (Hotstart)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/hotstart.html#when-do-you-need-an-initial-condition-or-hotstart">When do you need an initial condition or hotstart?</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/hotstart.html#what-is-the-difference-between-a-cold-and-hot-start">What is the difference between a cold and hot start?</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/hotstart.html#combining-hotstarts">Combining hotstarts</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/hotstart.html#choosing-a-good-start-time">Choosing a good start time</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/hotstart.html#creating-a-hotstart-for-hydro-salt-temp-with-schism-hotstart">Creating a Hotstart for Hydro/Salt/Temp with schism_hotstart</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/hotstart.html#acquiring-the-data">Acquiring the data</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/hotstart.html#configuring-the-hotstart-request-yaml">Configuring the Hotstart request (yaml)</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/hotstart.html#running-the-hotstart-generator">Running the hotstart generator</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/nudging.html">Nudging Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/nudging.html#introduction-what-is-nudging">Introduction: What is nudging?</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/nudging.html#do-i-need-nudging">Do I need nudging?</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/nudging.html#generating-nudging-files">Generating nudging files</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/nudging.html#schimpy.nudging.Nudging"><code class="docutils literal notranslate"><span class="pre">Nudging</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="topics/nudging.html#schimpy.nudging.Nudging.create_nudging"><code class="docutils literal notranslate"><span class="pre">Nudging.create_nudging()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="topics/nudging.html#preparing-for-nudging-with-observed-data">Preparing for nudging with observed data</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/nudging.html#nudging-example">Nudging Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/nudging.html#nudging-suffix-standards-and-procedure">Nudging Suffix Standards and Procedure</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/nudging.html#schism-conventions">SCHISM Conventions</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/nudging.html#baydeltaschism-conventions">BayDeltaSCHISM Conventions</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/nudging.html#using-the-set-nudge-utility">Using the set_nudge Utility</a><ul>
<li class="toctree-l6"><a class="reference internal" href="topics/nudging.html#bds-set-nudge">bds set_nudge</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="topics/nudging.html#sequencing-your-run">Sequencing your run</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/nudging.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/vegetation.html">Vegetation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/vegetation.html#aquatic-vegetation-in-schism">Aquatic Vegetation in SCHISM</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/vegetation.html#approximations-and-preprocessor">Approximations and preprocessor</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/vegetation.html#effective-stem-density">Effective Stem Density</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/vegetation.html#height">Height</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user_guide.html#inspection-of-model-setup">Inspection of Model Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="topics/checklists.html">Checklists</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/checklists.html#running-a-processed-setup">Running a Processed Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/checklists.html#simple-hindcast-runs">Simple Hindcast Runs</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/checklists.html#cbox-choose-run-dates">☐ Choose run dates</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/checklists.html#cbox-apply-template-to-existing-mesh">☐ Apply template to existing mesh</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/checklists.html#cbox-collect-time-series-inputs">☐ Collect time series inputs</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/checklists.html#cbox-hotstart-can-be-concurrent-with-barotropic">☐ Hotstart (can be concurrent with barotropic)</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/checklists.html#cbox-nudging-can-be-concurrent-with-barotropic">☐ Nudging (can be concurrent with barotropic)</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/checklists.html#cbox-barotropic-warmup">☐ Barotropic warmup</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/checklists.html#cbox-baroclinic-simulation">☐ Baroclinic simulation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/run_tests.html">Test Suite for Prechecking Runs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/run_tests.html#using-the-tests">Using the Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/run_tests.html#writing-run-tests">Writing Run Tests</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/run_tests.html#basics-of-testing">Basics of testing</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/run_tests.html#test-fixtures">Test Fixtures</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/run_tests.html#markers">Markers</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/run_tests.html#what-to-test">What to test</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user_guide.html#output-files">Output Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="topics/output.html">Output</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/output.html#flavors-of-output">Flavors of output</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/output.html#what-you-should-plan-in-advance">What you should plan in advance</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/output.html#request-station-output">Request station output</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/output.html#station-in">station.in</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/output.html#flow-xsects-yaml-and-fluxflags-out">flow_xsects.yaml and fluxflags.out</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="topics/output.html#request-dense-output">Request dense output:</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/output.html#working-with-staout-files">Working with staout_ files</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/output.html#working-with-flux-out-files">Working with flux.out files</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/output.html#visualizing-dense-nc-output-in-visit">Visualizing dense (.nc) output in VisIt</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/output.html#schism-s-extraction-utilities">SCHISM’s extraction utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/output.html#quick-validation-plots">Quick validation plots</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/output.html#where-do-we-keep-specialized-postprocessing-materials">Where do we keep specialized postprocessing materials?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user_guide.html#computing-resources">Computing Resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="topics/hpc.html">Intro to Clusters and High Performance Computing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/hpc.html#anatomy-of-a-cluster">Anatomy of a Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/hpc.html#figure-cluster-components">Figure: Cluster Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/hpc.html#compilation">Compilation</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/hpc.html#job-submission">Job Submission</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/hpc.html#compute-nodes-and-message-passing">Compute Nodes and Message Passing</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/hpc.html#input-output-and-scribes">Input/Output and Scribes</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/hpc.html#example-slurm-launch-file">Example Slurm Launch File</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/hpc.html#example-shell-script-to-run-schism">Example Shell Script to Run SCHISM</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/hpc.html#intro-to-batch-cloud-cluster">Intro to Batch Cloud Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/hpc.html#figure-azure-batch-cluster-components">Figure: Azure Batch Cluster Components</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/azure.html">Running on Azure Batch</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/azure.html#setup-azure">Setup Azure</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/azure.html#download-azure-utilities">Download Azure Utilities</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/azure.html#login">Login</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/azure.html#create-a-resource-group">Create a Resource Group</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/azure.html#download-azure-dms-batch">Download azure_dms_batch</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="topics/azure.html#upload-applications">Upload Applications</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/azure.html#schism">SCHISM</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/azure.html#python-packages">Python Packages</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="topics/azure.html#file-transfer-commands">File Transfer Commands</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/azure.html#azcopy-commands">azcopy commands</a><ul>
<li class="toctree-l6"><a class="reference internal" href="topics/azure.html#generating-sas-links">Generating SAS Links</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="topics/azure.html#azcopy-options">azcopy options</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="topics/azure.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/helloschism_azure.html">Step-by-step: HelloSCHISM on Azure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/helloschism_azure.html#initial-setup">Initial Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/helloschism_azure.html#uploading-model-input-files">Uploading Model Input Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/helloschism_azure.html#set-up-model-run-config">Set up Model Run Config</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/helloschism_azure.html#spot-pricing-config">Spot Pricing Config</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="topics/helloschism_azure.html#ensure-batch-quota">Ensure Batch Quota</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/helloschism_azure.html#run-simulation">Run Simulation!</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/bds_guide_azure.html">Step-by-step: Bay-Delta SCHISM on Azure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/bds_guide_azure.html#initial-setup">Initial Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/bds_guide_azure.html#uploading-model-input-files">Uploading Model Input Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/bds_guide_azure.html#running-model-simulation">Running Model Simulation</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/bds_guide_azure.html#simple-run-config">Simple Run Config</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/bds_guide_azure.html#spot-pricing-config">Spot Pricing Config</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user_guide.html#advanced-tasks-and-concepts">Advanced Tasks and Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="topics/problems.html">Common Problems and Diagnosis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/problems.html#where-does-schism-write-error-messages">Where does SCHISM write error messages?</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/problems.html#my-run-says-segfault">My run says “segfault”</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/problems.html#the-runs-seems-very-slow-compared-to-normal">The runs seems very slow compared to normal</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/problems.html#dry-boundary">Dry boundary</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/age.html">Simulating water age</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/age.html#compile-with-age">Compile with age</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/age.html#parameters-in-param-nml">Parameters in param.nml</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/age.html#additional-ic-files">Additional *.ic files</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/age.html#hotstart-considerations">Hotstart considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/age.html#typical-output-processing">Typical output processing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/sea_level_rise.html">Sea Level Rise</a></li>
<li class="toctree-l3"><a class="reference internal" href="topics/sources.html">Sources, Sinks, Delta Channel Depletions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/sources.html#identifying-source-locations-and-names-in-preprocessor">Identifying source locations and names in preprocessor</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/sources.html#delta-and-suisun-channel-depletions">Delta and Suisun channel depletions</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/sources.html#making-sure-you-includ-the-th-files-for-sources-sinks">Making sure you includ the th files for sources/sinks</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/sources.html#tracer-concentrations">Tracer concentrations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/structures.html">Hydraulic Structures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/structures.html#where-is-the-documentation">Where is the documentation?</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/structures.html#setting-up-the-mesh-to-make-structures-easy">Setting up the mesh to make structures easy</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/structures.html#preventing-dry-boundary-messages">Preventing dry boundary messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/structures.html#important-bay-delta-examples">Important Bay-Delta examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/mesh.html">Gridding the Horizontal Mesh</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/mesh.html#meshing">Meshing</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/mesh.html#meshing-considerations-for-schism">Meshing considerations for SCHISM</a><ul>
<li class="toctree-l6"><a class="reference internal" href="topics/mesh.html#video-joseph-zhang-schism-summit">Video (Joseph Zhang, SCHISM summit)</a></li>
<li class="toctree-l6"><a class="reference internal" href="topics/mesh.html#recap-checklist">Recap/checklist</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="topics/mesh.html#getting-to-know-sms">Getting to know SMS</a><ul>
<li class="toctree-l6"><a class="reference internal" href="topics/mesh.html#sample-data">Sample Data</a></li>
<li class="toctree-l6"><a class="reference internal" href="topics/mesh.html#id1">Recap checklist</a></li>
<li class="toctree-l6"><a class="reference internal" href="topics/mesh.html#presentation-clip-dems-and-efficient-use-of-dems">Presentation: clip_dems and efficient use of DEMS</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="topics/mesh.html#building-the-bay-delta-mesh-the-standard-way">Building the Bay-Delta mesh the standard way</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/mesh.html#presentation-meshing-consideration-for-marshes-and-restoration">Presentation: Meshing consideration for marshes and restoration</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/mesh.html#merging-stitching-sms-mesh-maps-new-work-flooded-islands-etc">Merging/Stitching SMS mesh/maps (new work, flooded islands, etc)</a><ul>
<li class="toctree-l6"><a class="reference internal" href="topics/mesh.html#video">Video</a></li>
<li class="toctree-l6"><a class="reference internal" href="topics/mesh.html#id2">Recap/checklist</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="topics/mesh.html#vertical-mesh-setup">Vertical mesh setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/mesh.html#checklist-for-after-you-change-the-mesh">Checklist for after you change the mesh</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/mesh.html#performance-tuning">Performance Tuning</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/mesh.html#the-analyze-dt-utility">The analyze_dt Utility</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/utilities.html">Utilities and Scripts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/utilities.html#gis-conversion">GIS Conversion</a><ul>
<li class="toctree-l5"><a class="reference internal" href="topics/utilities.html#mesh-to-shapefile">Mesh to shapefile</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/utilities.html#polygons-to-from-shapefile">Polygons to/from shapefile</a></li>
<li class="toctree-l5"><a class="reference internal" href="topics/utilities.html#polylines-to-from-shapefile">Polylines to/from shapefile</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="topics/utilities.html#hotstart-inventory-convert-iteration-numbers-to-dates">Hotstart Inventory: Convert iteration numbers to dates</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/utilities.html#model-time-and-multi-clip">model_time and multi_clip</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="learning.html">Learning Resources for Bay-Delta SCHISM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="learning.html#general-resources-and-tools">General Resources and Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bay_delta_tutorials.html">Bay-Delta SCHSIM Tutorials</a></li>
<li class="toctree-l3"><a class="reference internal" href="linux.html">Linux Hints for SCHISM</a><ul>
<li class="toctree-l4"><a class="reference internal" href="linux.html#using-linux-from-windows">Using Linux from Windows</a><ul>
<li class="toctree-l5"><a class="reference internal" href="linux.html#basic-connection">Basic connection</a></li>
<li class="toctree-l5"><a class="reference internal" href="linux.html#copying-files">Copying files</a></li>
<li class="toctree-l5"><a class="reference internal" href="linux.html#xwindow-emulation">XWindow Emulation</a></li>
<li class="toctree-l5"><a class="reference internal" href="linux.html#all-in-one-mobaxterm">All-in-one: MobaXTerm</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="linux.html#copying-a-run-safely">Copying a Run Safely</a><ul>
<li class="toctree-l5"><a class="reference internal" href="linux.html#special-case-remote-computer-using-rsa-keys">Special Case: Remote Computer Using RSA Keys</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="linux.html#symbolic-links">Symbolic links</a></li>
<li class="toctree-l4"><a class="reference internal" href="linux.html#archives-and-tarballs">Archives and Tarballs</a></li>
<li class="toctree-l4"><a class="reference internal" href="linux.html#essential-commands-in-a-schism-context">Essential commands in a SCHISM context</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="learning.html#manuals">Manuals</a></li>
<li class="toctree-l2"><a class="reference internal" href="learning.html#getting-help">Getting Help</a></li>
<li class="toctree-l2"><a class="reference internal" href="learning.html#vims-and-other-external-resources">VIMS and Other External Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Contributing to the Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="documentation.html#windows">Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="documentation.html#linux">Linux</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#how-it-works">How it works</a><ul>
<li class="toctree-l3"><a class="reference internal" href="documentation.html#local-html-pages">Local html pages</a></li>
<li class="toctree-l3"><a class="reference internal" href="documentation.html#github-pages">GitHub Pages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#examples-and-concepts">Examples and Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="meta_doc/doc_sphinx.html">Sphinx Documentation Principles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="meta_doc/doc_sphinx.html#code-auto-documentation">Code Auto-Documentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="meta_doc/doc_sphinx.html#headings-order">Headings order</a></li>
<li class="toctree-l4"><a class="reference internal" href="meta_doc/doc_sphinx.html#baydeltaschism-specifics">BayDeltaSCHISM Specifics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="meta_doc/doc_sphinx.html#sphinx-examples">Sphinx examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="meta_doc/doc_sphinx.html#math">Math</a></li>
<li class="toctree-l4"><a class="reference internal" href="meta_doc/doc_sphinx.html#figures">Figures</a></li>
<li class="toctree-l4"><a class="reference internal" href="meta_doc/doc_sphinx.html#diagrams">Diagrams</a><ul>
<li class="toctree-l5"><a class="reference internal" href="meta_doc/doc_sphinx.html#sphinx-mermaid-directive">Sphinx Mermaid Directive</a></li>
<li class="toctree-l5"><a class="reference internal" href="meta_doc/doc_sphinx.html#embedding-charts-with-svg">Embedding Charts with SVG</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="meta_doc/doc_sphinx.html#embedding-videos">Embedding Videos</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="meta_doc/doc_mermaid.html">Mermaid Chart Principles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="meta_doc/doc_mermaid.html#baydeltaschism-standards">BayDeltaSCHISM Standards</a><ul>
<li class="toctree-l5"><a class="reference internal" href="meta_doc/doc_mermaid.html#symbols">Symbols</a></li>
<li class="toctree-l5"><a class="reference internal" href="meta_doc/doc_mermaid.html#style">Style</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="meta_doc/doc_mermaid.html#vs-code-plugin">VS Code plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="meta_doc/doc_mermaid.html#cool-stuff">Cool stuff</a><ul>
<li class="toctree-l5"><a class="reference internal" href="meta_doc/doc_mermaid.html#clickables">Clickables</a></li>
<li class="toctree-l5"><a class="reference internal" href="meta_doc/doc_mermaid.html#icons-in-an-element">Icons in an Element</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="meta_doc/doc_click.html">Click Documentation Principles</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="calibration.html">Calibration Report and References</a><ul>
<li class="toctree-l2"><a class="reference internal" href="calibration.html#calibration">Calibration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html#support">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="refs.html">References</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">bdschism package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bdschism.config.html">bdschism.config package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="bdschism.config.html#module-bdschism.config">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.analyze_dt">bdschism.analyze_dt module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.analyze_dt.load_data"><code class="docutils literal notranslate"><span class="pre">load_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.analyze_dt.plot_summarized_bad_actors"><code class="docutils literal notranslate"><span class="pre">plot_summarized_bad_actors()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.analyze_dt.summarize_elements"><code class="docutils literal notranslate"><span class="pre">summarize_elements()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.calc_ndoi">bdschism.calc_ndoi module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.calc_ndoi.calc_indoi"><code class="docutils literal notranslate"><span class="pre">calc_indoi()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.ccf_gate_height">bdschism.ccf_gate_height module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.ccf_gate"><code class="docutils literal notranslate"><span class="pre">ccf_gate()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.create_priority_series"><code class="docutils literal notranslate"><span class="pre">create_priority_series()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.draw_down_regression"><code class="docutils literal notranslate"><span class="pre">draw_down_regression()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.export_lookup"><code class="docutils literal notranslate"><span class="pre">export_lookup()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.flow_to_max_gate"><code class="docutils literal notranslate"><span class="pre">flow_to_max_gate()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.flow_to_priority"><code class="docutils literal notranslate"><span class="pre">flow_to_priority()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.gen_gate_height"><code class="docutils literal notranslate"><span class="pre">gen_gate_height()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.gen_prio_for_varying_exports"><code class="docutils literal notranslate"><span class="pre">gen_prio_for_varying_exports()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.get_export_ts"><code class="docutils literal notranslate"><span class="pre">get_export_ts()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.get_tidal_hh_lh"><code class="docutils literal notranslate"><span class="pre">get_tidal_hh_lh()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.get_tidal_ll_hl"><code class="docutils literal notranslate"><span class="pre">get_tidal_ll_hl()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.make_3_prio"><code class="docutils literal notranslate"><span class="pre">make_3_prio()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.predict_oh4_level"><code class="docutils literal notranslate"><span class="pre">predict_oh4_level()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.process_height"><code class="docutils literal notranslate"><span class="pre">process_height()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.radial_gate_flow"><code class="docutils literal notranslate"><span class="pre">radial_gate_flow()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.raidal_gate_flow_ts"><code class="docutils literal notranslate"><span class="pre">raidal_gate_flow_ts()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.remove_continuous_duplicates"><code class="docutils literal notranslate"><span class="pre">remove_continuous_duplicates()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.save_prio_ts"><code class="docutils literal notranslate"><span class="pre">save_prio_ts()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.sffpx_level"><code class="docutils literal notranslate"><span class="pre">sffpx_level()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.simple_mass_balance"><code class="docutils literal notranslate"><span class="pre">simple_mass_balance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.tlmax"><code class="docutils literal notranslate"><span class="pre">tlmax()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.ccf_gate_height.tlmin"><code class="docutils literal notranslate"><span class="pre">tlmin()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.create_sflux_links">bdschism.create_sflux_links module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.diff_gr3">bdschism.diff_gr3 module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.diff_gr3.diff_congruent_gr3"><code class="docutils literal notranslate"><span class="pre">diff_congruent_gr3()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.generate_realtime_elev2d">bdschism.generate_realtime_elev2d module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.generate_realtime_elev2d.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.generate_realtime_elev2d.stitch_station"><code class="docutils literal notranslate"><span class="pre">stitch_station()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.hotstart_date">bdschism.hotstart_date module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.hotstart_date.set_hotstart_date"><code class="docutils literal notranslate"><span class="pre">set_hotstart_date()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.hotstart_from_hotstart">bdschism.hotstart_from_hotstart module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.hotstart_from_hotstart.SafeDict"><code class="docutils literal notranslate"><span class="pre">SafeDict</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.hotstart_from_hotstart.fmt_string_file"><code class="docutils literal notranslate"><span class="pre">fmt_string_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.hotstart_from_hotstart.hotstart_newgrid"><code class="docutils literal notranslate"><span class="pre">hotstart_newgrid()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.hotstart_from_hotstart.load_template"><code class="docutils literal notranslate"><span class="pre">load_template()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.hotstart_from_hotstart.str_or_path"><code class="docutils literal notranslate"><span class="pre">str_or_path()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.hotstart_nudging_data">bdschism.hotstart_nudging_data module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.hotstart_nudging_data.hotstart_nudge_data"><code class="docutils literal notranslate"><span class="pre">hotstart_nudge_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.parse_cu">bdschism.parse_cu module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.parse_cu.adjust_src_sink"><code class="docutils literal notranslate"><span class="pre">adjust_src_sink()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.parse_cu.calc_net_calsim"><code class="docutils literal notranslate"><span class="pre">calc_net_calsim()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.parse_cu.calc_net_diff"><code class="docutils literal notranslate"><span class="pre">calc_net_diff()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.parse_cu.calc_net_dsm2"><code class="docutils literal notranslate"><span class="pre">calc_net_dsm2()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.parse_cu.calc_net_obs_schism"><code class="docutils literal notranslate"><span class="pre">calc_net_obs_schism()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.parse_cu.calc_net_schism"><code class="docutils literal notranslate"><span class="pre">calc_net_schism()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.parse_cu.calc_srcsnk_dsm2"><code class="docutils literal notranslate"><span class="pre">calc_srcsnk_dsm2()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.parse_cu.orig_pert_to_schism_dcd"><code class="docutils literal notranslate"><span class="pre">orig_pert_to_schism_dcd()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.parse_cu.orig_pert_to_schism_dcd_yaml"><code class="docutils literal notranslate"><span class="pre">orig_pert_to_schism_dcd_yaml()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.parse_cu.read_net_csv"><code class="docutils literal notranslate"><span class="pre">read_net_csv()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.parse_cu.sch_dcd_net_diff"><code class="docutils literal notranslate"><span class="pre">sch_dcd_net_diff()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.parse_cu.strip_dpart"><code class="docutils literal notranslate"><span class="pre">strip_dpart()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#bdschism-plot-input-boundaries-module">bdschism.plot_input_boundaries module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bdschism-port-boundary-module">bdschism.port_boundary module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.profile_plot">bdschism.profile_plot module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.profile_plot.get_index_bounds"><code class="docutils literal notranslate"><span class="pre">get_index_bounds()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.profile_plot.nearest_neighbor_fill"><code class="docutils literal notranslate"><span class="pre">nearest_neighbor_fill()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.profile_plot.profile_plot"><code class="docutils literal notranslate"><span class="pre">profile_plot()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.profile_plot.set_index_bounds"><code class="docutils literal notranslate"><span class="pre">set_index_bounds()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.profile_plot.vertical_fill"><code class="docutils literal notranslate"><span class="pre">vertical_fill()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.run_sequence">bdschism.run_sequence module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.set_nudging">bdschism.set_nudging module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.set_nudging.get_nudge_list"><code class="docutils literal notranslate"><span class="pre">get_nudge_list()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.set_nudging.parse_var_map"><code class="docutils literal notranslate"><span class="pre">parse_var_map()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.set_nudging.set_nudging"><code class="docutils literal notranslate"><span class="pre">set_nudging()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.settings">bdschism.settings module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.settings.create_link"><code class="docutils literal notranslate"><span class="pre">create_link()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.settings.get_settings"><code class="docutils literal notranslate"><span class="pre">get_settings()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.three_point_linear_norm">bdschism.three_point_linear_norm module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.three_point_linear_norm.ThreePointLinearNorm"><code class="docutils literal notranslate"><span class="pre">ThreePointLinearNorm</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdschism.three_point_linear_norm.ThreePointLinearNorm.autoscale"><code class="docutils literal notranslate"><span class="pre">ThreePointLinearNorm.autoscale()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdschism.three_point_linear_norm.ThreePointLinearNorm.autoscale_None"><code class="docutils literal notranslate"><span class="pre">ThreePointLinearNorm.autoscale_None()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdschism.three_point_linear_norm.ThreePointLinearNorm.inverse"><code class="docutils literal notranslate"><span class="pre">ThreePointLinearNorm.inverse()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdschism.three_point_linear_norm.ThreePointLinearNorm.scaled"><code class="docutils literal notranslate"><span class="pre">ThreePointLinearNorm.scaled()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.uv3d">bdschism.uv3d module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.uv3d.interpolate_uv3d"><code class="docutils literal notranslate"><span class="pre">interpolate_uv3d()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.x2_buildpoints">bdschism.x2_buildpoints module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.x2_buildpoints.create_arg_parser"><code class="docutils literal notranslate"><span class="pre">create_arg_parser()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.x2_buildpoints.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.x2_buildpoints.main_fixed"><code class="docutils literal notranslate"><span class="pre">main_fixed()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.x2_buildpoints.x2_route2_bp"><code class="docutils literal notranslate"><span class="pre">x2_route2_bp()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.x2_time_series">bdschism.x2_time_series module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.x2_time_series.create_arg_parser"><code class="docutils literal notranslate"><span class="pre">create_arg_parser()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.x2_time_series.default_outname"><code class="docutils literal notranslate"><span class="pre">default_outname()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.x2_time_series.find_x2"><code class="docutils literal notranslate"><span class="pre">find_x2()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.x2_time_series.get_start_date_from_param"><code class="docutils literal notranslate"><span class="pre">get_start_date_from_param()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.x2_time_series.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.x2_time_series.main_hardwire"><code class="docutils literal notranslate"><span class="pre">main_hardwire()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.x2_time_series.process_x2"><code class="docutils literal notranslate"><span class="pre">process_x2()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism.zone_utils">bdschism.zone_utils module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.zone_utils.face_aver"><code class="docutils literal notranslate"><span class="pre">face_aver()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.zone_utils.face_aver_inst"><code class="docutils literal notranslate"><span class="pre">face_aver_inst()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.zone_utils.fill_ele_area"><code class="docutils literal notranslate"><span class="pre">fill_ele_area()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.zone_utils.fill_ele_area510"><code class="docutils literal notranslate"><span class="pre">fill_ele_area510()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.zone_utils.gen_node_neibor_ele"><code class="docutils literal notranslate"><span class="pre">gen_node_neibor_ele()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.zone_utils.gen_node_wet_dry"><code class="docutils literal notranslate"><span class="pre">gen_node_wet_dry()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.zone_utils.quad_area"><code class="docutils literal notranslate"><span class="pre">quad_area()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdschism.zone_utils.triangle_area"><code class="docutils literal notranslate"><span class="pre">triangle_area()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdschism">Module contents</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Bay-Delta SCHISM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <!-- Empty override file take the place of env/lib/python3.8/site-packages/sphinx_rtd_theme/breadcrumbs.html, which generates the top nav breadcrumbs. -->
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="bdschism-package">
<h1>bdschism package<a class="headerlink" href="#bdschism-package" title="Link to this heading"></a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="bdschism.config.html">bdschism.config package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bdschism.config.html#module-bdschism.config">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-bdschism.analyze_dt">
<span id="bdschism-analyze-dt-module"></span><h2>bdschism.analyze_dt module<a class="headerlink" href="#module-bdschism.analyze_dt" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="bdschism.analyze_dt.load_data">
<span class="sig-prename descclassname"><span class="pre">bdschism.analyze_dt.</span></span><span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ncfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/analyze_dt.html#load_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.analyze_dt.load_data" title="Link to this definition"></a></dt>
<dd><p>Load time step and mesh data from a SCHISM NetCDF file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ncfile</strong> (<em>str</em>) – Path to the NetCDF file.</p></li>
<li><p><strong>time_step</strong> (<em>int</em><em> or </em><em>None</em>) – Specific time index to select. If None, load all.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Time step values, x-coordinates, y-coordinates.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple of (np.ndarray, np.ndarray, np.ndarray)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.analyze_dt.plot_summarized_bad_actors">
<span class="sig-prename descclassname"><span class="pre">bdschism.analyze_dt.</span></span><span class="sig-name descname"><span class="pre">plot_summarized_bad_actors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bad_actors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_top</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/analyze_dt.html#plot_summarized_bad_actors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.analyze_dt.plot_summarized_bad_actors" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.analyze_dt.summarize_elements">
<span class="sig-prename descclassname"><span class="pre">bdschism.analyze_dt.</span></span><span class="sig-name descname"><span class="pre">summarize_elements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ncfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_count</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/analyze_dt.html#summarize_elements"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.analyze_dt.summarize_elements" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-bdschism.calc_ndoi">
<span id="bdschism-calc-ndoi-module"></span><h2>bdschism.calc_ndoi module<a class="headerlink" href="#module-bdschism.calc_ndoi" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="bdschism.calc_ndoi.calc_indoi">
<span class="sig-prename descclassname"><span class="pre">bdschism.calc_ndoi.</span></span><span class="sig-name descname"><span class="pre">calc_indoi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flux_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'flux.th'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vsource_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vsource.th'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vsink_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vsink.th'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_basis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elapsed_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'s'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_head</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/home/runner/work/BayDeltaSCHISM/BayDeltaSCHISM/bdschism/bdschism/../.././data/time_history/flux.th'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sink_head</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/home/runner/work/BayDeltaSCHISM/BayDeltaSCHISM/bdschism/bdschism/../.././data/channel_depletion/vsink_dated.th'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_head</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/home/runner/work/BayDeltaSCHISM/BayDeltaSCHISM/bdschism/bdschism/../.././data/channel_depletion/vsource_dated.th'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/calc_ndoi.html#calc_indoi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.calc_ndoi.calc_indoi" title="Link to this definition"></a></dt>
<dd><p>Calculate an estimate of Net Delta Outflow from boundary inputs applied to SCHISM</p>
</dd></dl>

</section>
<section id="module-bdschism.ccf_gate_height">
<span id="bdschism-ccf-gate-height-module"></span><h2>bdschism.ccf_gate_height module<a class="headerlink" href="#module-bdschism.ccf_gate_height" title="Link to this heading"></a></h2>
<p>Estimate Clifton Court Forebay Gate opening height.</p>
<p>This module provides functions to estimate the gate opening height for Clifton Court Forebay
based on SWP export, eligible intervals for opening, priority level, maximum gate height allowed,
OH4 stage level, and CVP pump rate for a given period.</p>
<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.ccf_gate">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">ccf_gate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sdate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">astro_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sffpx_elev</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_intermediate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#ccf_gate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.ccf_gate" title="Link to this definition"></a></dt>
<dd><p>Generate the predicted gate height for the Clifton Court Forebay.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sdate</strong> (<em>str</em>) – Start date in the format “YYYY-MM-DD”.</p></li>
<li><p><strong>edate</strong> (<em>str</em>) – End date in the format “YYYY-MM-DD”.</p></li>
<li><p><strong>dest</strong> (<em>str</em>) – Destination file where the output file will be saved. ex: “ccfb_gate_syn.th”</p></li>
<li><p><strong>astro_file</strong> (<em>str</em>) – Path to the astronomical data file required for processing.</p></li>
<li><p><strong>export_file</strong> (<em>str</em>) – Path to the export file used in height processing.</p></li>
<li><p><strong>plot</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, a plot of the predicted gate height will be displayed (default is False).</p></li>
<li><p><strong>save_intermediate</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, intermediate results will be saved to files (default is False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The function saves the predicted gate height data to a file and optionally displays a plot.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The output file is saved to the destination file.
The function processes the height data, removes continuous duplicates, and adds additional
columns for installation, operation, elevation, and width parameters.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.create_priority_series">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">create_priority_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">etime</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#create_priority_series"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.create_priority_series" title="Link to this definition"></a></dt>
<dd><p>Choose priorities day-by-day based on the value of the priority argument</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.draw_down_regression">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">draw_down_regression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cvp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#draw_down_regression"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.draw_down_regression" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.export_lookup">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">export_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#export_lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.export_lookup" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.flow_to_max_gate">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">flow_to_max_gate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flow</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">breaks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[-100,</span> <span class="pre">400,</span> <span class="pre">1200,</span> <span class="pre">3000.0,</span> <span class="pre">4000,</span> <span class="pre">99999.0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[3,</span> <span class="pre">5,</span> <span class="pre">8,</span> <span class="pre">10,</span> <span class="pre">16]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#flow_to_max_gate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.flow_to_max_gate" title="Link to this definition"></a></dt>
<dd><p>Convert export flows to max gate height on numerical brackets with breaks.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.flow_to_priority">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">flow_to_priority</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flow</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">breaks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[-100,</span> <span class="pre">2000,</span> <span class="pre">4000.0,</span> <span class="pre">9000.0,</span> <span class="pre">99999.0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#flow_to_priority"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.flow_to_priority" title="Link to this definition"></a></dt>
<dd><p>Convert export flows to priorities based on numerical brackets with breaks.
Labels must be integers</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.gen_gate_height">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">gen_gate_height</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">export_ts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oh4_level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cvp_ts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inside_level0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#gen_gate_height"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.gen_gate_height" title="Link to this definition"></a></dt>
<dd><p>Estimate Clifton Court Forebay Gate opening height.</p>
<p>This function estimates the opening height of the Clifton Court Forebay (CCFB) radial gates
based on SWP export, eligible intervals for opening and priority level, maximum gate height allowed,
OH4 stage level, CVP pump rate, and other operational rules for a given period.</p>
<section id="gate-opening-conditions">
<h3>Gate Opening Conditions<a class="headerlink" href="#gate-opening-conditions" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Priority Eligibility</strong>: The gate opens only if priority eligibility criteria are met.</p></li>
<li><p><strong>Water Level Difference</strong>: The gate opens if the water level outside the forebay is higher than the water level inside.</p></li>
</ul>
</section>
<section id="early-gate-closure">
<h3>Early Gate Closure<a class="headerlink" href="#early-gate-closure" title="Link to this heading"></a></h3>
<p>The gate will close early if the volume of water above the 2 ft contour is sufficient to cover
the remaining water allocation for the day. This simulates field operations where operators aim to
maintain water elevation as close to 2 ft as possible.</p>
</section>
<section id="gate-remains-open">
<h3>Gate Remains Open<a class="headerlink" href="#gate-remains-open" title="Link to this heading"></a></h3>
<p>The gate will remain open if the volume of water above the 2 ft contour is insufficient to cover
the daily allocation, preventing the water level inside the forebay from dropping too low.</p>
</section>
<section id="gate-height-calculation">
<h3>Gate Height Calculation<a class="headerlink" href="#gate-height-calculation" title="Link to this heading"></a></h3>
<ul>
<li><p>The default gate height is 16 ft, but a maximum height based on export level is applied.</p></li>
<li><p>The height is adjusted to prevent flow from exceeding 12,000 cfs, reflecting operational constraints.</p></li>
<li><p>The gate height is calculated using a simplified version of the flow rating equation:</p>
<blockquote>
<div><p>Gate Height = 11 × (Head)^-0.3 - 0.5</p>
</div></blockquote>
<p>where Head = Water level upstream - Water level in the reservoir.</p>
</li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">param export_ts<span class="colon">:</span></dt>
<dd class="field-odd"><p>Series of SWP pumping rate.</p>
</dd>
<dt class="field-even">type export_ts<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.Series</p>
</dd>
<dt class="field-odd">param priority<span class="colon">:</span></dt>
<dd class="field-odd"><p>CCFB gate operation priority series, must have ‘priority’ and ‘op’ columns.</p>
</dd>
<dt class="field-even">type priority<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
<dt class="field-odd">param max_height<span class="colon">:</span></dt>
<dd class="field-odd"><p>CCFB gate maximum allowed open height.</p>
</dd>
<dt class="field-even">type max_height<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
<dt class="field-odd">param oh4_level<span class="colon">:</span></dt>
<dd class="field-odd"><p>OH4 surface stage, predicted or historical.</p>
</dd>
<dt class="field-even">type oh4_level<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
<dt class="field-odd">param cvp_ts<span class="colon">:</span></dt>
<dd class="field-odd"><p>CVP pumping rate.</p>
</dd>
<dt class="field-even">type cvp_ts<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
<dt class="field-odd">param inside_level0<span class="colon">:</span></dt>
<dd class="field-odd"><p>Initial CCFB surface stage.</p>
</dd>
<dt class="field-even">type inside_level0<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
<dt class="field-odd">param s1<span class="colon">:</span></dt>
<dd class="field-odd"><p>Start time.</p>
</dd>
<dt class="field-even">type s1<span class="colon">:</span></dt>
<dd class="field-even"><p>datetime.datetime</p>
</dd>
<dt class="field-odd">param s2<span class="colon">:</span></dt>
<dd class="field-odd"><p>End time.</p>
</dd>
<dt class="field-even">type s2<span class="colon">:</span></dt>
<dd class="field-even"><p>datetime.datetime</p>
</dd>
<dt class="field-odd">param dt<span class="colon">:</span></dt>
<dd class="field-odd"><p>Output time step.</p>
</dd>
<dt class="field-even">type dt<span class="colon">:</span></dt>
<dd class="field-even"><p>datetime.timedelta</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gate_height</strong> (<em>pandas.DataFrame</em>) – Radial gate height time series.</p></li>
<li><p><strong>zin</strong> (<em>pandas.DataFrame</em>) – Predicted forebay inside water level time series.</p></li>
</ul>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.gen_prio_for_varying_exports">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">gen_prio_for_varying_exports</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_tide</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#gen_prio_for_varying_exports"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.gen_prio_for_varying_exports" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.get_export_ts">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">get_export_ts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#get_export_ts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.get_export_ts" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>retrieve swp and cvp pumping rate from a SCHISM flux.th</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s1</strong> (<em>:py:class:'datetime &lt;datetime.datetime&gt;'</em>) – start time.</p></li>
<li><p><strong>s2</strong> (<em>:py:class:'datetime &lt;datetime.datetime&gt;'</em>) – end time.</p></li>
<li><p><strong>flux</strong> (<em>str</em>) – path to the SCHISM flux th file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>swp_ts</strong> (<em>:py:class:’DataFrame &lt;pandas.DataFrame&gt;’</em>) – swp pump rate in cfs.</p></li>
<li><p><strong>cvp_ts</strong> (<em>:py:class:’DataFrame &lt;pandas.DataFrame&gt;’</em>) – cvp pump rate in cfs.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.get_tidal_hh_lh">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">get_tidal_hh_lh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sh</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#get_tidal_hh_lh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.get_tidal_hh_lh" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.get_tidal_ll_hl">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">get_tidal_ll_hl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sl</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#get_tidal_ll_hl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.get_tidal_ll_hl" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.make_3_prio">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">make_3_prio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_tide</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">etime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_intermediate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#make_3_prio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.make_3_prio" title="Link to this definition"></a></dt>
<dd><p>Function that makes the priorities schedule time series based on the predicted tide at San Francisco.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_tide</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code>) – Time series of the Predicted tide at SF in LST
The time series should be taken from the datastore (water level in m, NAVD88). Headers: datetime,predicted_m,elev_m.</p></li>
<li><p><strong>stime</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.timedelta</span></code>) – start time.</p></li>
<li><p><strong>etime</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.timedelta</span></code>) – end time.</p></li>
<li><p><strong>Output</strong> (<em>3 irregular time series that contain the schedule for the priority 1</em><em>, </em><em>2 and 3.</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.predict_oh4_level">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">predict_oh4_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">astro_tide_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sffpx_elev</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#predict_oh4_level"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.predict_oh4_level" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.process_height">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">process_height</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oh4_astro</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sffpx_elev</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#process_height"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.process_height" title="Link to this definition"></a></dt>
<dd><p>Create a ccfb radial gate height time series file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s1</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code>) – start time.</p></li>
<li><p><strong>s2</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code>) – end time.</p></li>
<li><p><strong>export</strong> (<em>str</em>) – path to SCHISM export th file.</p></li>
<li><p><strong>oh4_astro</strong> (<em>str</em>) – path to OH4 astronomic tide file .</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>sim_gate_height</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>) – predicted raidal gate height</p></li>
<li><p><strong>zin_df</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>) – predicted ccfb interior surface stage.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.radial_gate_flow">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">radial_gate_flow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zdown</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.00000064</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zsill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-13.267716959999998</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#radial_gate_flow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.radial_gate_flow" title="Link to this definition"></a></dt>
<dd><p>compuate ccf radial gate flow in cubic feet/s</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> – number of gate opened</p></li>
<li><p><strong>width</strong> – width of the each gate</p></li>
<li><p><strong>zup</strong> – upstream water elevation</p></li>
<li><p><strong>zill</strong> – elevation of gate sill</p></li>
<li><p><strong>zdown</strong> – downstream water elev</p></li>
<li><p><strong>height</strong> – gate opening height</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>gate flow in cfs</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.raidal_gate_flow_ts">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">raidal_gate_flow_ts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zdown_ts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zup_ts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height_ts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#raidal_gate_flow_ts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.raidal_gate_flow_ts" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.remove_continuous_duplicates">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">remove_continuous_duplicates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#remove_continuous_duplicates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.remove_continuous_duplicates" title="Link to this definition"></a></dt>
<dd><p>Removes consecutive duplicate values in a specified column of a Pandas DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – The input DataFrame.</p></li>
<li><p><strong>column_name</strong> (<em>str</em>) – The name of the column to check for duplicates.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new DataFrame with consecutive duplicates removed.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.save_prio_ts">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">save_prio_ts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tsdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tide_lagged</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#save_prio_ts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.save_prio_ts" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.sffpx_level">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">sffpx_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sdate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sf_data_repo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">margin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">datetime.timedelta(days=30)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#sffpx_level"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.sffpx_level" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.simple_mass_balance">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">simple_mass_balance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">export</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zin0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#simple_mass_balance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.simple_mass_balance" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.tlmax">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">tlmax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#tlmax"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.tlmax" title="Link to this definition"></a></dt>
<dd><p>return HH(1) or LH (0)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.ccf_gate_height.tlmin">
<span class="sig-prename descclassname"><span class="pre">bdschism.ccf_gate_height.</span></span><span class="sig-name descname"><span class="pre">tlmin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/ccf_gate_height.html#tlmin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.ccf_gate_height.tlmin" title="Link to this definition"></a></dt>
<dd><p>return LL(1) or HL(0)</p>
</dd></dl>

</section>
<section id="module-bdschism.create_sflux_links">
<span id="bdschism-create-sflux-links-module"></span><h2>bdschism.create_sflux_links module<a class="headerlink" href="#module-bdschism.create_sflux_links" title="Link to this heading"></a></h2>
</section>
<section id="module-bdschism.diff_gr3">
<span id="bdschism-diff-gr3-module"></span><h2>bdschism.diff_gr3 module<a class="headerlink" href="#module-bdschism.diff_gr3" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="bdschism.diff_gr3.diff_congruent_gr3">
<span class="sig-prename descclassname"><span class="pre">bdschism.diff_gr3.</span></span><span class="sig-name descname"><span class="pre">diff_congruent_gr3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fout</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/diff_gr3.html#diff_congruent_gr3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.diff_gr3.diff_congruent_gr3" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-bdschism.generate_realtime_elev2d">
<span id="bdschism-generate-realtime-elev2d-module"></span><h2>bdschism.generate_realtime_elev2d module<a class="headerlink" href="#module-bdschism.generate_realtime_elev2d" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="bdschism.generate_realtime_elev2d.main">
<span class="sig-prename descclassname"><span class="pre">bdschism.generate_realtime_elev2d.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/generate_realtime_elev2d.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.generate_realtime_elev2d.main" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.generate_realtime_elev2d.stitch_station">
<span class="sig-prename descclassname"><span class="pre">bdschism.generate_realtime_elev2d.</span></span><span class="sig-name descname"><span class="pre">stitch_station</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_cur</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_past</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_stitch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/generate_realtime_elev2d.html#stitch_station"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.generate_realtime_elev2d.stitch_station" title="Link to this definition"></a></dt>
<dd><p>Stitch the historical water lever with the prediction one</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_cur</strong> (<em>pd.DataFrame</em>) – The current historical data</p></li>
<li><p><strong>df_past</strong> (<em>pd.DataFrame</em>) – The past historical data</p></li>
<li><p><strong>df_pred</strong> (<em>pd.DataFrame</em>) – The prediction data</p></li>
<li><p><strong>t_transition</strong> (<em>datetime</em><em>, </em><em>optional</em>) – The time of transition between the historical and prediction data</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bdschism.hotstart_date">
<span id="bdschism-hotstart-date-module"></span><h2>bdschism.hotstart_date module<a class="headerlink" href="#module-bdschism.hotstart_date" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="bdschism.hotstart_date.set_hotstart_date">
<span class="sig-prename descclassname"><span class="pre">bdschism.hotstart_date.</span></span><span class="sig-name descname"><span class="pre">set_hotstart_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restart_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outprefix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/hotstart_date.html#set_hotstart_date"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.hotstart_date.set_hotstart_date" title="Link to this definition"></a></dt>
<dd><p>Change timestamp and date implied by hotstart.</p>
</dd></dl>

</section>
<section id="module-bdschism.hotstart_from_hotstart">
<span id="bdschism-hotstart-from-hotstart-module"></span><h2>bdschism.hotstart_from_hotstart module<a class="headerlink" href="#module-bdschism.hotstart_from_hotstart" title="Link to this heading"></a></h2>
<p>Adapted from ZZheng - generate hotstart - transfer from one grid to another</p>
<dl class="py class">
<dt class="sig sig-object py" id="bdschism.hotstart_from_hotstart.SafeDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdschism.hotstart_from_hotstart.</span></span><span class="sig-name descname"><span class="pre">SafeDict</span></span><a class="reference internal" href="_modules/bdschism/hotstart_from_hotstart.html#SafeDict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.hotstart_from_hotstart.SafeDict" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Safe dictionary for string formatting.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.hotstart_from_hotstart.fmt_string_file">
<span class="sig-prename descclassname"><span class="pre">bdschism.hotstart_from_hotstart.</span></span><span class="sig-name descname"><span class="pre">fmt_string_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'format_map'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/hotstart_from_hotstart.html#fmt_string_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.hotstart_from_hotstart.fmt_string_file" title="Link to this definition"></a></dt>
<dd><p>Format a string template and write it to a file, optionally returning the formatted string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template_str</strong> (<em>str</em>) – The input string template. May contain placeholders for substitution.</p></li>
<li><p><strong>output_path</strong> (<em>str</em>) – Path where the formatted string will be written.</p></li>
<li><p><strong>subs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Substitution values. Keys should match placeholders (for ‘format_map’)
or be (old, new) pairs (for ‘replace’ mode).</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>optional</em>) – <dl class="simple">
<dt>Substitution mode:</dt><dd><ul>
<li><p>’format_map’ (default): uses Python format_map() with {placeholder} replacement.</p></li>
<li><p>’replace’: simple text replacement; ‘subs’ should be a list of (old, new) tuples.</p></li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The fully substituted and formatted string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.hotstart_from_hotstart.hotstart_newgrid">
<span class="sig-prename descclassname"><span class="pre">bdschism.hotstart_from_hotstart.</span></span><span class="sig-name descname"><span class="pre">hotstart_newgrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">yaml_template_fn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hotstart_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hotstart_out</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trg_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'EPSG:26910'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/hotstart_from_hotstart.html#hotstart_newgrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.hotstart_from_hotstart.hotstart_newgrid" title="Link to this definition"></a></dt>
<dd><p>Transfer hotstart data from one grid to another.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.hotstart_from_hotstart.load_template">
<span class="sig-prename descclassname"><span class="pre">bdschism.hotstart_from_hotstart.</span></span><span class="sig-name descname"><span class="pre">load_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/hotstart_from_hotstart.html#load_template"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.hotstart_from_hotstart.load_template" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.hotstart_from_hotstart.str_or_path">
<span class="sig-prename descclassname"><span class="pre">bdschism.hotstart_from_hotstart.</span></span><span class="sig-name descname"><span class="pre">str_or_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/hotstart_from_hotstart.html#str_or_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.hotstart_from_hotstart.str_or_path" title="Link to this definition"></a></dt>
<dd><p>Helper function to handle string or Path inputs.</p>
</dd></dl>

</section>
<section id="module-bdschism.hotstart_nudging_data">
<span id="bdschism-hotstart-nudging-data-module"></span><h2>bdschism.hotstart_nudging_data module<a class="headerlink" href="#module-bdschism.hotstart_nudging_data" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="bdschism.hotstart_nudging_data.hotstart_nudge_data">
<span class="sig-prename descclassname"><span class="pre">bdschism.hotstart_nudging_data.</span></span><span class="sig-name descname"><span class="pre">hotstart_nudge_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sdate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndays</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repo_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/hotstart_nudging_data.html#hotstart_nudge_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.hotstart_nudging_data.hotstart_nudge_data" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-bdschism.parse_cu">
<span id="bdschism-parse-cu-module"></span><h2>bdschism.parse_cu module<a class="headerlink" href="#module-bdschism.parse_cu" title="Link to this heading"></a></h2>
<p>Script by Lily Tomkovic to take a net delta consumptive use and parse it into vsource and vsink</p>
<dl class="py function">
<dt class="sig sig-object py" id="bdschism.parse_cu.adjust_src_sink">
<span class="sig-prename descclassname"><span class="pre">bdschism.parse_cu.</span></span><span class="sig-name descname"><span class="pre">adjust_src_sink</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sink</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">net_diff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sinkfrac</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/parse_cu.html#adjust_src_sink"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.parse_cu.adjust_src_sink" title="Link to this definition"></a></dt>
<dd><p>Distributes a perturbation to dataframe sc and sink</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> (<em>DataFrame</em>) – DataFrame of positive sources.</p></li>
<li><p><strong>sink</strong> (<em>DataFrame</em>) – DataFrame of sinks. Must be all of the same sign. If positive, they are assumed to represent the the magnitude of the (latent) sinks. If they are negative, they are the sink values themselves. Return value will match the convention of the input.</p></li>
<li><p><strong>net_diff</strong> (<em>Series</em>) – Series representing a perturbation to be distributed proportionally over src and sink. Sign convention agrees with that of src.
When net_diff is negative, it augments sink.
When it is positive it reduces the sink until sinkfrac fraction of the sink is exhausted, after which the remainder augments the source.</p></li>
<li><p><strong>sinkfrac</strong> (<em>float</em>) – Fraction of sink that can be reduced in order to achieve the perturbation by reducing the sink. Remainder is applied by augmenting src. Has no effect on time steps when net_diff is negative.</p></li>
<li><p><strong>debug</strong> (<em>bool</em>) – If True, prints out debug information about the input src and sink DataFrames.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>src</strong> (<em>DataFrame</em>) – DataFrame of adjusted sources, with the same sign convention as the input src.</p></li>
<li><p><strong>sink</strong> (<em>DataFrame</em>) – DataFrame of adjusted sinks, with the same sign convention as the input sink.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.parse_cu.calc_net_calsim">
<span class="sig-prename descclassname"><span class="pre">bdschism.parse_cu.</span></span><span class="sig-name descname"><span class="pre">calc_net_calsim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dcd_dss_calsim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt=&lt;Day&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/parse_cu.html#calc_net_calsim"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.parse_cu.calc_net_calsim" title="Link to this definition"></a></dt>
<dd><p>Get net consumptive use timeseries from Calsim DSS file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dcd_dss_calsim</strong> (<em>str</em><em>|</em><em>Path</em>) – Path to the Calsim DSS file. Contains DICU_FLOW data.</p></li>
<li><p><strong>start_date</strong> (<em>pd.Timestamp</em><em>, </em><em>optional</em>) – Start date for the timeseries.</p></li>
<li><p><strong>end_date</strong> (<em>pd.Timestamp</em><em>, </em><em>optional</em>) – End date for the timeseries.</p></li>
<li><p><strong>dt</strong> (<em>float</em><em> or </em><em>pd.DateOffset</em><em>, </em><em>optional</em>) – Time step in days for interpolation.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Additional keyword arguments to pass to the read_dss function. (unused in this function)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame with a single column named ‘net’ containing net consumptive use in cfs.
The data is read from the DICU_FLOW path in the Calsim DSS file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.parse_cu.calc_net_diff">
<span class="sig-prename descclassname"><span class="pre">bdschism.parse_cu.</span></span><span class="sig-name descname"><span class="pre">calc_net_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_net</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adjusted_net</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfs_to_cms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/parse_cu.html#calc_net_diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.parse_cu.calc_net_diff" title="Link to this definition"></a></dt>
<dd><p>Calculate the difference in net CU between original and adjusted data in cms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>original_net</strong> (<em>pd.DataFrame</em>) – DCD net source and sink data from original timeseries.
Used to calculate difference in net CU to apply to SCHISM inputs.
Entered as a DataFrame with a single column or Series with units of cfs by default.</p></li>
<li><p><strong>adjusted_net</strong> (<em>pd.DataFrame</em>) – DCD net source and sink data from adjusted timeseries.
Used to calculate difference in net CU from original to apply to SCHISM inputs
Entered as a DataFrame with a single column or Series with units of cfs by default.</p></li>
<li><p><strong>cfs_to_cms</strong> (<em>bool</em>) – Set to True if net data is in cfs and needs to be converted to cms for SCHISM.
Only set to False if net data is in cms.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series of the net difference in CU between original and adjusted data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.parse_cu.calc_net_dsm2">
<span class="sig-prename descclassname"><span class="pre">bdschism.parse_cu.</span></span><span class="sig-name descname"><span class="pre">calc_net_dsm2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dcd_dss_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt=&lt;Day&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_pathname='//TOTAL*/////'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/parse_cu.html#calc_net_dsm2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.parse_cu.calc_net_dsm2" title="Link to this definition"></a></dt>
<dd><p>Get net timeseries from DCD DSS file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dcd_dss_file</strong> (<em>str</em><em>|</em><em>Path</em>) – Path to the DCD DSS file. Contains DRAIN-FLOW, SEEP-FLOW, and DIV-FLOW data.</p></li>
<li><p><strong>start_date</strong> (<em>pd.Timestamp</em><em>, </em><em>optional</em>) – Start date for the timeseries.</p></li>
<li><p><strong>end_date</strong> (<em>pd.Timestamp</em><em>, </em><em>optional</em>) – End date for the timeseries.</p></li>
<li><p><strong>dt</strong> (<em>float</em><em> or </em><em>pd.DateOffset</em><em>, </em><em>optional</em>) – Time step in days for interpolation.</p></li>
<li><p><strong>exclude_pathname</strong> (<em>str</em><em>, </em><em>optional</em>) – Pathname parts to exclude, ex: ‘//TOTAL*/////’</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Additional keyword arguments to pass to the read_dss function. (unused in this function)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series of net consumptive use in cfs, calculated as source - sink.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.parse_cu.calc_net_obs_schism">
<span class="sig-prename descclassname"><span class="pre">bdschism.parse_cu.</span></span><span class="sig-name descname"><span class="pre">calc_net_obs_schism</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schism_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt=&lt;Day&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/parse_cu.html#calc_net_obs_schism"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.parse_cu.calc_net_obs_schism" title="Link to this definition"></a></dt>
<dd><p>Use the repository to calculate net SCHISM DCU</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.parse_cu.calc_net_schism">
<span class="sig-prename descclassname"><span class="pre">bdschism.parse_cu.</span></span><span class="sig-name descname"><span class="pre">calc_net_schism</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schism_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt=&lt;Day&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/parse_cu.html#calc_net_schism"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.parse_cu.calc_net_schism" title="Link to this definition"></a></dt>
<dd><p>Get net timeseries from SCHISM th files in cfs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>schism_dir</strong> (<em>str</em><em>|</em><em>Path</em>) – SCHISM directory where vsource.th and vsink.th files are found.</p></li>
<li><p><strong>start_date</strong> (<em>pd.Timestamp</em><em>, </em><em>optional</em>) – Start date for the timeseries.</p></li>
<li><p><strong>end_date</strong> (<em>pd.Timestamp</em><em>, </em><em>optional</em>) – End date for the timeseries.</p></li>
<li><p><strong>dt</strong> (<em>float</em><em> or </em><em>pd.DateOffset</em><em>, </em><em>optional</em>) – Time step in days for interpolation.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Additional keyword arguments to pass to the SCHISM net calculation functions.
For example, if the original data has a specific vsource file, you can pass
<code class="docutils literal notranslate"><span class="pre">vsource_original='vsource_dated.th'</span></code> and it will be used in the calculation.
You must use _original or _perturbed suffixes to distinguish between original and perturbed data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame with a single column named ‘net’ containing net consumptive use in cfs.
The data is calculated from the vsource and vsink files in the SCHISM directory.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.parse_cu.calc_srcsnk_dsm2">
<span class="sig-prename descclassname"><span class="pre">bdschism.parse_cu.</span></span><span class="sig-name descname"><span class="pre">calc_srcsnk_dsm2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dcd_dss_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt=&lt;Day&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_pathname='//TOTAL*/////'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/parse_cu.html#calc_srcsnk_dsm2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.parse_cu.calc_srcsnk_dsm2" title="Link to this definition"></a></dt>
<dd><p>Get net source and net sink timeseries from DCD DSS file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dcd_dss_file</strong> (<em>str</em><em>|</em><em>Path</em>) – Path to the DCD DSS file. Contains DRAIN-FLOW, SEEP-FLOW, and DIV-FLOW data.</p></li>
<li><p><strong>start_date</strong> (<em>pd.Timestamp</em><em>, </em><em>optional</em>) – Start date for the timeseries.</p></li>
<li><p><strong>end_date</strong> (<em>pd.Timestamp</em><em>, </em><em>optional</em>) – End date for the timeseries.</p></li>
<li><p><strong>dt</strong> (<em>float</em><em> or </em><em>pd.DateOffset</em><em>, </em><em>optional</em>) – Time step in days for interpolation.</p></li>
<li><p><strong>exclude_pathname</strong> (<em>str</em><em>, </em><em>optional</em>) – Pathname parts to exclude, ex: ‘//TOTAL*/////’</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>src</strong> (<em>pd.Series</em>) – Series of net source flow in cfs.</p></li>
<li><p><strong>sink</strong> (<em>pd.Series</em>) – Series of net sink flow in cfs.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.parse_cu.orig_pert_to_schism_dcd">
<span class="sig-prename descclassname"><span class="pre">bdschism.parse_cu.</span></span><span class="sig-name descname"><span class="pre">orig_pert_to_schism_dcd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perturbed_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perturbed_filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schism_vsource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schism_vsink</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt=&lt;Day&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/parse_cu.html#orig_pert_to_schism_dcd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.parse_cu.orig_pert_to_schism_dcd" title="Link to this definition"></a></dt>
<dd><p>Convert original and perturbed DCD data to SCHISM vsource and vsink inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>original_type</strong> (<em>str</em>) – Type of the original DCD data (e.g. ‘dsm2’, ‘calsim’, ‘csv’, ‘schism’).</p></li>
<li><p><strong>original_filename</strong> (<em>str</em><em>|</em><em>Path</em>) – Path to the original DCD data file. If DSS then enter the filename.
If SCHISM then enter the directory where vsource.th and vsink.th are found.</p></li>
<li><p><strong>perturbed_type</strong> (<em>str</em>) – Type of the perturbed DCD data (e.g. ‘dsm2’, ‘calsim’, ‘csv’, ‘schism’).</p></li>
<li><p><strong>perturbed_filename</strong> (<em>str</em><em>|</em><em>Path</em>) – Path to the perturbed DCD data file. If DSS then enter the filename.
If SCHISM then enter the directory where vsource.th and vsink.th are found.</p></li>
<li><p><strong>schism_vsource</strong> (<em>str</em><em>|</em><em>Path</em>) – Input SCHISM vsource data, needs to be ‘dated’ and not ‘elapsed’.</p></li>
<li><p><strong>schism_vsink</strong> (<em>str</em><em>|</em><em>Path</em>) – Input SCHISM vsink data, needs to be ‘dated’ and not ‘elapsed’.</p></li>
<li><p><strong>out_dir</strong> (<em>str</em><em>|</em><em>Path</em>) – Output directory to store the altered *.th files.</p></li>
<li><p><strong>version</strong> (<em>str</em>) – Specifies the tag to put on the output files (e.g. vsource.VERSION.dated.th).</p></li>
<li><p><strong>start_date</strong> (<em>pd.Timestamp</em><em>, </em><em>optional</em>) – Start date for the timeseries. If None, uses the start date from the original data.</p></li>
<li><p><strong>end_date</strong> (<em>pd.Timestamp</em><em>, </em><em>optional</em>) – End date for the timeseries. If None, uses the end date from the original data.</p></li>
<li><p><strong>dt</strong> (<em>float</em><em> or </em><em>pd.DateOffset</em><em>, </em><em>optional</em>) – Time step in days for interpolation. Default is 1 day.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Additional keyword arguments to pass to the SCHISM net calculation functions.
For example, if the original data has a specific vsource file, you can pass
vsource_original=’vsource_dated.th’ and it will be used in the calculation.
You must use _original or _perturbed suffixes to distinguish between original and perturbed data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.parse_cu.orig_pert_to_schism_dcd_yaml">
<span class="sig-prename descclassname"><span class="pre">bdschism.parse_cu.</span></span><span class="sig-name descname"><span class="pre">orig_pert_to_schism_dcd_yaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">yaml_fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">envvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/parse_cu.html#orig_pert_to_schism_dcd_yaml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.parse_cu.orig_pert_to_schism_dcd_yaml" title="Link to this definition"></a></dt>
<dd><p>Convert original and perturbed DCD data to SCHISM vsource and vsink inputs from yaml input file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>yaml_fn</strong> (<em>str</em><em>|</em><em>Path</em>) – Path to the YAML file containing configuration.</p></li>
<li><p><strong>envvar</strong> (<em>dict</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Optional dictionary of environment variables or overrides. If None, no overrides are applied.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.parse_cu.read_net_csv">
<span class="sig-prename descclassname"><span class="pre">bdschism.parse_cu.</span></span><span class="sig-name descname"><span class="pre">read_net_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">csv_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt=&lt;Day&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/parse_cu.html#read_net_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.parse_cu.read_net_csv" title="Link to this definition"></a></dt>
<dd><p>Read net timeseries from a CSV file.
:param csv_file: Path to the CSV file containing net consumptive use data.
:type csv_file: str|Path
:param start_date: Start date for the timeseries.
:type start_date: pd.Timestamp, optional
:param end_date: End date for the timeseries.
:type end_date: pd.Timestamp, optional
:param dt: Time step in days for interpolation.
:type dt: float or pd.DateOffset, optional</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.parse_cu.sch_dcd_net_diff">
<span class="sig-prename descclassname"><span class="pre">bdschism.parse_cu.</span></span><span class="sig-name descname"><span class="pre">sch_dcd_net_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">net_diff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schism_vsource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schism_vsink</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfs_to_cms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/parse_cu.html#sch_dcd_net_diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.parse_cu.sch_dcd_net_diff" title="Link to this definition"></a></dt>
<dd><p>Convert adjusted DCD data from DataFrame into SCHISM-ready *.th inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>net_diff</strong> (<em>pd.DataFrame</em>) – DCD net differences from historical or baseline. Used to apply to SCHISM inputs.</p></li>
<li><p><strong>schism_vsource</strong> (<em>str</em><em>|</em><em>Path</em>) – input SCHISM vsource data, needs to be “dated” and not “elapsed.</p></li>
<li><p><strong>schism_vsink</strong> (<em>str</em><em>|</em><em>Path</em>) – input SCHISM vsink data, needs to be “dated” and not “elapsed.</p></li>
<li><p><strong>out_dir</strong> (<em>str</em><em>|</em><em>Path</em>) – Output directory to store the altered *.th files.</p></li>
<li><p><strong>version</strong> (<em>str</em>) – Specifies the tag to put on the output files (e.g. vsource.VERSION.dated.th)</p></li>
<li><p><strong>start_date</strong> (<em>pd.Timestamp</em><em>, </em><em>optional</em>) – Start date for the timeseries.</p></li>
<li><p><strong>end_date</strong> (<em>pd.Timestamp</em><em>, </em><em>optional</em>) – End date for the timeseries.</p></li>
<li><p><strong>cfs_to_cms</strong> (<em>bool</em><em>, </em><em>optional</em>) – Set to True if net data is in cfs and needs to be converted to cms for SCHISM.
Only set to False if net data is in cms.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.parse_cu.strip_dpart">
<span class="sig-prename descclassname"><span class="pre">bdschism.parse_cu.</span></span><span class="sig-name descname"><span class="pre">strip_dpart</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/parse_cu.html#strip_dpart"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.parse_cu.strip_dpart" title="Link to this definition"></a></dt>
<dd><p>Remove the 5th part of a DSS path, which is the D part.
This is used to strip the D part from the column names in the DCD data.
:param colname: The column name in the DSS path format.
:type colname: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The column name with the D part removed.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="bdschism-plot-input-boundaries-module">
<h2>bdschism.plot_input_boundaries module<a class="headerlink" href="#bdschism-plot-input-boundaries-module" title="Link to this heading"></a></h2>
</section>
<section id="bdschism-port-boundary-module">
<h2>bdschism.port_boundary module<a class="headerlink" href="#bdschism-port-boundary-module" title="Link to this heading"></a></h2>
</section>
<section id="module-bdschism.profile_plot">
<span id="bdschism-profile-plot-module"></span><h2>bdschism.profile_plot module<a class="headerlink" href="#module-bdschism.profile_plot" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="bdschism.profile_plot.get_index_bounds">
<span class="sig-prename descclassname"><span class="pre">bdschism.profile_plot.</span></span><span class="sig-name descname"><span class="pre">get_index_bounds</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/profile_plot.html#get_index_bounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.profile_plot.get_index_bounds" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.profile_plot.nearest_neighbor_fill">
<span class="sig-prename descclassname"><span class="pre">bdschism.profile_plot.</span></span><span class="sig-name descname"><span class="pre">nearest_neighbor_fill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/profile_plot.html#nearest_neighbor_fill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.profile_plot.nearest_neighbor_fill" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.profile_plot.profile_plot">
<span class="sig-prename descclassname"><span class="pre">bdschism.profile_plot.</span></span><span class="sig-name descname"><span class="pre">profile_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlabel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/profile_plot.html#profile_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.profile_plot.profile_plot" title="Link to this definition"></a></dt>
<dd><p>UnTRIM-like profile plot of salinity
xmin,xmax are the bounds (in km) of the profile
max_depth is the maximum depth, data assumed to be</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.profile_plot.set_index_bounds">
<span class="sig-prename descclassname"><span class="pre">bdschism.profile_plot.</span></span><span class="sig-name descname"><span class="pre">set_index_bounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/profile_plot.html#set_index_bounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.profile_plot.set_index_bounds" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.profile_plot.vertical_fill">
<span class="sig-prename descclassname"><span class="pre">bdschism.profile_plot.</span></span><span class="sig-name descname"><span class="pre">vertical_fill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/profile_plot.html#vertical_fill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.profile_plot.vertical_fill" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-bdschism.run_sequence">
<span id="bdschism-run-sequence-module"></span><h2>bdschism.run_sequence module<a class="headerlink" href="#module-bdschism.run_sequence" title="Link to this heading"></a></h2>
</section>
<section id="module-bdschism.set_nudging">
<span id="bdschism-set-nudging-module"></span><h2>bdschism.set_nudging module<a class="headerlink" href="#module-bdschism.set_nudging" title="Link to this heading"></a></h2>
<p>Set the nudging links for a Bay-Delta SCHSIM model</p>
<p>2025-02-04: Customized</p>
<dl class="py function">
<dt class="sig sig-object py" id="bdschism.set_nudging.get_nudge_list">
<span class="sig-prename descclassname"><span class="pre">bdschism.set_nudging.</span></span><span class="sig-name descname"><span class="pre">get_nudge_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/set_nudging.html#get_nudge_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.set_nudging.get_nudge_list" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.set_nudging.parse_var_map">
<span class="sig-prename descclassname"><span class="pre">bdschism.set_nudging.</span></span><span class="sig-name descname"><span class="pre">parse_var_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/set_nudging.html#parse_var_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.set_nudging.parse_var_map" title="Link to this definition"></a></dt>
<dd><p>Parse a string of key=value pairs separated by commas into a dictionary.
Expected format: “key1=value1,key2=value2”
Used for var_map which feeds the gr3 formats for things like TEM=temperature</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.set_nudging.set_nudging">
<span class="sig-prename descclassname"><span class="pre">bdschism.set_nudging.</span></span><span class="sig-name descname"><span class="pre">set_nudging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'param.nml'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/set_nudging.html#set_nudging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.set_nudging.set_nudging" title="Link to this definition"></a></dt>
<dd><p>This is a utility to set up nudging files based on a naming convention common for BayDeltaSCHISM.
Assumed this is on Linux or admin-priveleged Windows machine.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>suffix</strong> (<em>str</em>) – This is the suffix used when preparing the nudging/gr files. For instance “obshycom” in SAL_nu_obshycom.nc</p></li>
<li><p><strong>workdir</strong> (<em>str</em>) – Directory where the links and changes are made</p></li>
<li><p><strong>var_map</strong> (<em>str</em>) – Unexpected mapping in key=value pairs, separated by commas. Ex: –var_map ‘TEM=temperature,SAL=salinity’</p></li>
<li><p><strong>param_fn</strong> (<em>str</em>) – Which param.nml file will be used to determine module list. Should be the baroclinic param file. Default is <cite>param.nml</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-bdschism.settings">
<span id="bdschism-settings-module"></span><h2>bdschism.settings module<a class="headerlink" href="#module-bdschism.settings" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="bdschism.settings.create_link">
<span class="sig-prename descclassname"><span class="pre">bdschism.settings.</span></span><span class="sig-name descname"><span class="pre">create_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symlink</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/settings.html#create_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.settings.create_link" title="Link to this definition"></a></dt>
<dd><p>Create a link between a source file and a target path based on system-specific link styles.</p>
<p>This function creates a symbolic link, junction, or copies the file, depending on the
system settings. The link style is determined dynamically from <cite>get_settings()</cite>, which
specifies the preferred linking method for the operating system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>str</em>) – The path to the source file that will be linked.</p></li>
<li><p><strong>symlink</strong> (<em>str</em>) – The target path where the link (or copy) will be created.</p></li>
<li><p><strong>config_log</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, log the configuration source being used.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the link style retrieved from <cite>get_settings()</cite> is unsupported.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>If a symbolic link already exists at <cite>symlink</cite>, it is removed before creating a new one.</p></li>
<li><p>On Windows, the function supports creating junction links (<cite>mklink</cite>), symbolic links,
or copying the file instead.</p></li>
<li><p>On Unix-based systems, it defaults to using symbolic links.</p></li>
</ul>
<p class="rubric">Examples</p>
<p>Create a symbolic link on Unix-like systems or an appropriate alternative on Windows:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">create_link</span><span class="p">(</span><span class="s2">&quot;/path/to/source.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;/path/to/symlink.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.settings.get_settings">
<span class="sig-prename descclassname"><span class="pre">bdschism.settings.</span></span><span class="sig-name descname"><span class="pre">get_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_log</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/settings.html#get_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.settings.get_settings" title="Link to this definition"></a></dt>
<dd><p>Load and return application settings from a configuration file.</p>
<p>This function retrieves configuration settings using a hierarchy of possible sources:
1. A package-level default configuration file (<cite>bds_config.yaml</cite> within the package).
2. A project-level configuration file (<cite>bds_config.yaml</cite> in the current working directory).
3. An environment-specific configuration file, if <cite>BDS_CONFIG</cite> is set and points to a valid file.</p>
<p>The function uses <cite>Dynaconf</cite> to load settings, ensuring that the highest-priority configuration
(environment variable, project-level, or package default) is used.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <cite>Dynaconf</cite> object containing the loaded configuration settings.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dynaconf</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The package-level configuration file provides default settings.</p></li>
<li><p>If a project-level configuration file exists in the current directory, it overrides the package default.</p></li>
<li><p>If an environment variable <cite>BDS_CONFIG</cite> is set and points to a valid file, it takes the highest precedence.</p></li>
<li><p>The function logs the configuration source being used.</p></li>
</ul>
<p class="rubric">Examples</p>
<p>Load settings from the highest-priority available configuration file:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">settings</span> <span class="o">=</span> <span class="n">get_settings</span><span class="p">()</span>
<span class="go">Using configuration from: /path/to/highest-priority-config.yaml current env development</span>
</pre></div>
</div>
<p>Access settings:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">settings</span><span class="o">.</span><span class="n">some_setting</span>
<span class="go">&#39;some_value&#39;</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-bdschism.three_point_linear_norm">
<span id="bdschism-three-point-linear-norm-module"></span><h2>bdschism.three_point_linear_norm module<a class="headerlink" href="#module-bdschism.three_point_linear_norm" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bdschism.three_point_linear_norm.ThreePointLinearNorm">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdschism.three_point_linear_norm.</span></span><span class="sig-name descname"><span class="pre">ThreePointLinearNorm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">linthresh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/three_point_linear_norm.html#ThreePointLinearNorm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.three_point_linear_norm.ThreePointLinearNorm" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Normalize</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="bdschism.three_point_linear_norm.ThreePointLinearNorm.autoscale">
<span class="sig-name descname"><span class="pre">autoscale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/three_point_linear_norm.html#ThreePointLinearNorm.autoscale"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.three_point_linear_norm.ThreePointLinearNorm.autoscale" title="Link to this definition"></a></dt>
<dd><p>Set <em>vmin</em>, <em>vmax</em> to min, max of <em>A</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bdschism.three_point_linear_norm.ThreePointLinearNorm.autoscale_None">
<span class="sig-name descname"><span class="pre">autoscale_None</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/three_point_linear_norm.html#ThreePointLinearNorm.autoscale_None"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.three_point_linear_norm.ThreePointLinearNorm.autoscale_None" title="Link to this definition"></a></dt>
<dd><p>autoscale only None-valued vmin or vmax</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bdschism.three_point_linear_norm.ThreePointLinearNorm.inverse">
<span class="sig-name descname"><span class="pre">inverse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/three_point_linear_norm.html#ThreePointLinearNorm.inverse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.three_point_linear_norm.ThreePointLinearNorm.inverse" title="Link to this definition"></a></dt>
<dd><p>Maps the normalized value (i.e., index in the colormap) back to image
data value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> – Normalized value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bdschism.three_point_linear_norm.ThreePointLinearNorm.scaled">
<span class="sig-name descname"><span class="pre">scaled</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/three_point_linear_norm.html#ThreePointLinearNorm.scaled"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.three_point_linear_norm.ThreePointLinearNorm.scaled" title="Link to this definition"></a></dt>
<dd><p>return true if vmin and vmax set</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-bdschism.uv3d">
<span id="bdschism-uv3d-module"></span><h2>bdschism.uv3d module<a class="headerlink" href="#module-bdschism.uv3d" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="bdschism.uv3d.interpolate_uv3d">
<span class="sig-prename descclassname"><span class="pre">bdschism.uv3d.</span></span><span class="sig-name descname"><span class="pre">interpolate_uv3d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_nml</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bg_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bg_output_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fg_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hgrid_bg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hgrid_fg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vgrid_bg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vgrid_fg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interp_template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nday</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_clinic</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/uv3d.html#interpolate_uv3d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.uv3d.interpolate_uv3d" title="Link to this definition"></a></dt>
<dd><p>Main function to run interpolate_variables utility.</p>
</dd></dl>

</section>
<section id="module-bdschism.x2_buildpoints">
<span id="bdschism-x2-buildpoints-module"></span><h2>bdschism.x2_buildpoints module<a class="headerlink" href="#module-bdschism.x2_buildpoints" title="Link to this heading"></a></h2>
<p>Extract station xyz from a x2 route UTM file. The resulting station file
conforms to SCHISM bp station format. Stations along bay route start from
65km from San Francisco and end at confluence, Station along mzm start
from 18km from Marinez end at confluence, Station along Sac starts from
confluence and end 25km upstream of sac river, Station along San Joaquin
route starts from confluence and end 25km upstream of San Joaquin River.
Their depth are defined as relativly to surface. ONLY surface or bottom
stations are available, surface station set elevation to 0 and bottom
station set elevation to -10000.0. station xyz are output as  Bay route,
San Joaquin, Sac and MZM in order.</p>
<dl class="py function">
<dt class="sig sig-object py" id="bdschism.x2_buildpoints.create_arg_parser">
<span class="sig-prename descclassname"><span class="pre">bdschism.x2_buildpoints.</span></span><span class="sig-name descname"><span class="pre">create_arg_parser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/x2_buildpoints.html#create_arg_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.x2_buildpoints.create_arg_parser" title="Link to this definition"></a></dt>
<dd><p>Create an argument parser
return: argparse.ArgumentParser</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.x2_buildpoints.main">
<span class="sig-prename descclassname"><span class="pre">bdschism.x2_buildpoints.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/x2_buildpoints.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.x2_buildpoints.main" title="Link to this definition"></a></dt>
<dd><p>Main function</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.x2_buildpoints.main_fixed">
<span class="sig-prename descclassname"><span class="pre">bdschism.x2_buildpoints.</span></span><span class="sig-name descname"><span class="pre">main_fixed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/x2_buildpoints.html#main_fixed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.x2_buildpoints.main_fixed" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.x2_buildpoints.x2_route2_bp">
<span class="sig-prename descclassname"><span class="pre">bdschism.x2_buildpoints.</span></span><span class="sig-name descname"><span class="pre">x2_route2_bp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x2_route_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">route_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bpout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minkm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">35</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/x2_buildpoints.html#x2_route2_bp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.x2_buildpoints.x2_route2_bp" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-bdschism.x2_time_series">
<span id="bdschism-x2-time-series-module"></span><h2>bdschism.x2_time_series module<a class="headerlink" href="#module-bdschism.x2_time_series" title="Link to this heading"></a></h2>
<p>Create x2 time series from build-point files.</p>
<p>This script reads x2_route.bp as well as the fort.18
resulting from SCHISM read_output9_xyz to extract salinity on X2 stations.
It search along x2 stations to find two neiboring stations higher and lower
than X2 criteria (bottom or surface).  If X2 retreat less than the minimum
stations along the transect, the X2 result will
be truncated at that point.</p>
<p>usage: –start 2004-04-18 –x2route x2route.bp
output: x2 on surface and bottom location time series in csv format, bottom_x2.csv and surface_x2.csv</p>
<dl class="py function">
<dt class="sig sig-object py" id="bdschism.x2_time_series.create_arg_parser">
<span class="sig-prename descclassname"><span class="pre">bdschism.x2_time_series.</span></span><span class="sig-name descname"><span class="pre">create_arg_parser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/x2_time_series.html#create_arg_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.x2_time_series.create_arg_parser" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.x2_time_series.default_outname">
<span class="sig-prename descclassname"><span class="pre">bdschism.x2_time_series.</span></span><span class="sig-name descname"><span class="pre">default_outname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bpname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/x2_time_series.html#default_outname"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.x2_time_series.default_outname" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.x2_time_series.find_x2">
<span class="sig-prename descclassname"><span class="pre">bdschism.x2_time_series.</span></span><span class="sig-name descname"><span class="pre">find_x2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transect</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_km</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_bias</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/x2_time_series.html#find_x2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.x2_time_series.find_x2" title="Link to this definition"></a></dt>
<dd><p>Given a series transect, indexed by distance, locate a distance with value is close to thresh</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.x2_time_series.get_start_date_from_param">
<span class="sig-prename descclassname"><span class="pre">bdschism.x2_time_series.</span></span><span class="sig-name descname"><span class="pre">get_start_date_from_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_in</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/x2_time_series.html#get_start_date_from_param"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.x2_time_series.get_start_date_from_param" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.x2_time_series.main">
<span class="sig-prename descclassname"><span class="pre">bdschism.x2_time_series.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/x2_time_series.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.x2_time_series.main" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.x2_time_series.main_hardwire">
<span class="sig-prename descclassname"><span class="pre">bdschism.x2_time_series.</span></span><span class="sig-name descname"><span class="pre">main_hardwire</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/x2_time_series.html#main_hardwire"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.x2_time_series.main_hardwire" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.x2_time_series.process_x2">
<span class="sig-prename descclassname"><span class="pre">bdschism.x2_time_series.</span></span><span class="sig-name descname"><span class="pre">process_x2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">salt_data_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">route_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_extract_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/x2_time_series.html#process_x2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.x2_time_series.process_x2" title="Link to this definition"></a></dt>
<dd><p>Process  x2 into a time series</p>
</dd></dl>

</section>
<section id="module-bdschism.zone_utils">
<span id="bdschism-zone-utils-module"></span><h2>bdschism.zone_utils module<a class="headerlink" href="#module-bdschism.zone_utils" title="Link to this heading"></a></h2>
<p>Created on Fri May  5 09:45:12 2023</p>
<p>&#64;author: qshu</p>
<dl class="py function">
<dt class="sig sig-object py" id="bdschism.zone_utils.face_aver">
<span class="sig-prename descclassname"><span class="pre">bdschism.zone_utils.</span></span><span class="sig-name descname"><span class="pre">face_aver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_depth_average</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">face_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ele_table</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/zone_utils.html#face_aver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.zone_utils.face_aver" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.zone_utils.face_aver_inst">
<span class="sig-prename descclassname"><span class="pre">bdschism.zone_utils.</span></span><span class="sig-name descname"><span class="pre">face_aver_inst</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inst_node_depth_average</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">face_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ele_table</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/zone_utils.html#face_aver_inst"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.zone_utils.face_aver_inst" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.zone_utils.fill_ele_area">
<span class="sig-prename descclassname"><span class="pre">bdschism.zone_utils.</span></span><span class="sig-name descname"><span class="pre">fill_ele_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">face_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ele_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ele_area</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/zone_utils.html#fill_ele_area"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.zone_utils.fill_ele_area" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.zone_utils.fill_ele_area510">
<span class="sig-prename descclassname"><span class="pre">bdschism.zone_utils.</span></span><span class="sig-name descname"><span class="pre">fill_ele_area510</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">face_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ele_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ele_area</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/zone_utils.html#fill_ele_area510"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.zone_utils.fill_ele_area510" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.zone_utils.gen_node_neibor_ele">
<span class="sig-prename descclassname"><span class="pre">bdschism.zone_utils.</span></span><span class="sig-name descname"><span class="pre">gen_node_neibor_ele</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mesh_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_node_in_a_cell</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_ele</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/zone_utils.html#gen_node_neibor_ele"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.zone_utils.gen_node_neibor_ele" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.zone_utils.gen_node_wet_dry">
<span class="sig-prename descclassname"><span class="pre">bdschism.zone_utils.</span></span><span class="sig-name descname"><span class="pre">gen_node_wet_dry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_wet_dry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ele_wet_dry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_ele_at_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">el</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/zone_utils.html#gen_node_wet_dry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.zone_utils.gen_node_wet_dry" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.zone_utils.quad_area">
<span class="sig-prename descclassname"><span class="pre">bdschism.zone_utils.</span></span><span class="sig-name descname"><span class="pre">quad_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/zone_utils.html#quad_area"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.zone_utils.quad_area" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bdschism.zone_utils.triangle_area">
<span class="sig-prename descclassname"><span class="pre">bdschism.zone_utils.</span></span><span class="sig-name descname"><span class="pre">triangle_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdschism/zone_utils.html#triangle_area"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdschism.zone_utils.triangle_area" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-bdschism">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-bdschism" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="refs.html" class="btn btn-neutral float-left" title="References" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="bdschism.config.html" class="btn btn-neutral float-right" title="bdschism.config package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2014,2020 California Department of Water Resources.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: white;
    }
    /* Sidebar */
    .wy-nav-side {
      background: #86989B; /* existing theme was AFC1C4 and 86989B and CA7900 and white */
      
    }
  </style>


</body>
</html>
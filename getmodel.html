<!-- Empty override file take the place of env/lib/python3.8/site-packages/sphinx_rtd_theme/breadcrumbs.html, which generates the top nav breadcrumbs. -->

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation And Getting Started &mdash; Bay-Delta SCHISM</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=ca842793"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Learning Resources for Bay-Delta SCHISM" href="learning.html" />
    <link rel="prev" title="Bay-Delta SCHISM Project" href="index.html" />
    <link href="_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/logo6.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Bay-Delta SCHISM Project</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation And Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#schism-code-or-binaries">SCHISM Code or Binaries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#downloading">Downloading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compile-settings">Compile Settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#git">Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bay-delta-package">Bay-Delta Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="#required-python-packages">Required Python Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-system">Configuration System</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration-sources">Configuration Sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-configuration-file">Example Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="#overriding-configuration">Overriding Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dependencies">Dependencies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#bathymetry">Bathymetry</a></li>
<li class="toctree-l2"><a class="reference internal" href="#complete-sample-inputs">Complete Sample Inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#visit-schism-plug-in">VisIt SCHISM Plug-in</a></li>
<li class="toctree-l2"><a class="reference internal" href="#links-to-tools">Links to tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="learning.html">Learning Resources for Bay-Delta SCHISM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="learning.html#general-resources-and-tools">General Resources and Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="learning.html#manuals">Manuals</a></li>
<li class="toctree-l2"><a class="reference internal" href="learning.html#getting-help">Getting Help</a></li>
<li class="toctree-l2"><a class="reference internal" href="learning.html#vims-and-other-external-resources">VIMS and Other External Resources</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="user_guide.html">Bay-Delta SCHISM User Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="user_guide.html#bay-delta-schism-setup">Bay-Delta SCHISM Setup</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Getting the Tools and Setting Up</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#schism-code-or-binaries">SCHISM Code or Binaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="#git">Git</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bay-delta-package">Bay-Delta Package</a></li>
<li class="toctree-l4"><a class="reference internal" href="#required-python-packages">Required Python Packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration-system">Configuration System</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bathymetry">Bathymetry</a></li>
<li class="toctree-l4"><a class="reference internal" href="#complete-sample-inputs">Complete Sample Inputs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#visit-schism-plug-in">VisIt SCHISM Plug-in</a></li>
<li class="toctree-l4"><a class="reference internal" href="#links-to-tools">Links to tools</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/processed_run.html">Running a Preprepared Setup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user_guide.html#bay-delta-schism-essentials">Bay-Delta SCHISM Essentials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="user_guide.html#overview">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/overview.html">Overview of a Bay-Delta SCHISM Run</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/vignette.html">Vignette: Hindcast Bay Delta SCHISM at Delta Modeling Section with Preprocessor</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/files_and_directories.html">Required Files, Directory Structure and Recommended Study Practices</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/preprocess.html">Grid, Spatial Data and Preprocessor</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="user_guide.html#boundaries-input-files">Boundaries &amp; Input Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/ocean.html">Prepare Ocean Boundary (elev2D.th.nc)</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/flow_boundary.html">Inflow/Outflow Boundaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/atmospheric.html">Atmospheric setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/barotropic.html">Ocean Boundary Stabilization: Barotropic Warmup</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/param.html">Key Run Parameters and Gotchas</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/hotstart.html">Run Initialization and Restart (Hotstart)</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/nudging.html">Nudging Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/vegetation.html">Vegetation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="user_guide.html#inspection-of-model-setup">Inspection of Model Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/checklists.html">Checklists</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/run_tests.html">Test Suite for Prechecking Runs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="user_guide.html#output-files">Output Files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user_guide.html#advanced-tasks-and-concepts">Advanced Tasks and Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="topics/problems.html">Common Problems and Diagnosis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/problems.html#where-does-schism-write-error-messages">Where does SCHISM write error messages?</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/problems.html#my-run-says-segfault">My run says “segfault”</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/problems.html#the-runs-seems-very-slow-compared-to-normal">The runs seems very slow compared to normal</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/problems.html#dry-boundary">Dry boundary</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/age.html">Simulating water age</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/age.html#compile-with-age">Compile with age</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/age.html#parameters-in-param-nml">Parameters in param.nml</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/age.html#additional-ic-files">Additional *.ic files</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/age.html#hotstart-considerations">Hotstart considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/age.html#typical-output-processing">Typical output processing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/sea_level_rise.html">Sea Level Rise</a></li>
<li class="toctree-l3"><a class="reference internal" href="topics/sources.html">Sources, Sinks, Delta Channel Depletions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/sources.html#identifying-source-locations-and-names-in-preprocessor">Identifying source locations and names in preprocessor</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/sources.html#delta-and-suisun-channel-depletions">Delta and Suisun channel depletions</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/sources.html#making-sure-you-includ-the-th-files-for-sources-sinks">Making sure you includ the th files for sources/sinks</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/sources.html#tracer-concentrations">Tracer concentrations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/structures.html">Hydraulic Structures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/structures.html#where-is-the-documentation">Where is the documentation?</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/structures.html#setting-up-the-mesh-to-make-structures-easy">Setting up the mesh to make structures easy</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/structures.html#preventing-dry-boundary-messages">Preventing dry boundary messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/structures.html#important-bay-delta-examples">Important Bay-Delta examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/mesh.html">Gridding the Horizontal Mesh</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/mesh.html#meshing">Meshing</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/mesh.html#vertical-mesh-setup">Vertical mesh setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/mesh.html#checklist-for-after-you-change-the-mesh">Checklist for after you change the mesh</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="topics/utilities.html">Utilities and Scripts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="topics/utilities.html#gis-conversion">GIS Conversion</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/utilities.html#hotstart-inventory-convert-iteration-numbers-to-dates">Hotstart Inventory: Convert iteration numbers to dates</a></li>
<li class="toctree-l4"><a class="reference internal" href="topics/utilities.html#model-time-and-multi-clip">model_time and multi_clip</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="calibration.html">Calibration Report and References</a><ul>
<li class="toctree-l2"><a class="reference internal" href="calibration.html#calibration">Calibration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html#support">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="refs.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Bay-Delta SCHISM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <!-- Empty override file take the place of env/lib/python3.8/site-packages/sphinx_rtd_theme/breadcrumbs.html, which generates the top nav breadcrumbs. -->
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="installation-and-getting-started">
<span id="getstarted"></span><h1>Installation And Getting Started<a class="headerlink" href="#installation-and-getting-started" title="Link to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>Depending on your experience level, you may be installing a bunch of tools, learning a
new computation environment and/or getting acquainted with a new model. Our experience is that
folks who take all of that on together tend to struggle. Here are ways you can break it:</p>
<blockquote>
<div><ul class="simple">
<li><p>This page lists the main items you will need to install or acquire.</p></li>
<li><p>Don’t mix learning the model and learning Linux if you are still familiarizing. Download the model and try the first couple tutorials on <a class="reference external" href="https://cadwrdeltamodeling.github.io/HelloSCHISM/">Hello SCHISM</a>
a simplified grid using Windows if that is your platform of preference. See the <a class="reference internal" href="learning.html"><span class="doc">Learning Resources for Bay-Delta SCHISM</span></a>.</p></li>
<li><p>Be aware of the <a class="reference external" href="https://cadwrdeltamodeling.github.io/BayDeltaSCHISM/learning.html">learning resources</a> page which is the hub for documentation for the project.</p></li>
<li><p>In particular, there is a <a class="reference internal" href="user_guide.html"><span class="doc">Bay-Delta SCHISM User Guide</span></a>. It contains details on how we set up the Bay-Delta SCHISM application, and the table of contents is a good reminder even for experienced users.</p></li>
<li><p>Explore the Python tools listed below. We will happily answer questions about what tools are available to avoid constant reinvention of the same functionality.</p></li>
<li><p>If you have just set up the model in a new computing environment, benchmark it on a working example. Download the code and the ready-to-run <a class="reference internal" href="#complete-sample"><span class="std std-ref">Complete Sample Inputs</span></a> and use them to configure and test your target high performance computing (HPC) environment.</p></li>
</ul>
</div></blockquote>
</section>
<section id="schism-code-or-binaries">
<h2>SCHISM Code or Binaries<a class="headerlink" href="#schism-code-or-binaries" title="Link to this heading"></a></h2>
<section id="downloading">
<h3>Downloading<a class="headerlink" href="#downloading" title="Link to this heading"></a></h3>
<p>How you will obtain the model code depends on the operating system. If you are working on Windows (which is mostly useful for instruction or reduced size problems), compatible <a class="reference external" href="https://msb.water.ca.gov/documents/86683/266737/schism_4.1_bin_windows.zip">Windows binaries</a> are available. This will underperform compared to a Linux cluster. For that, clone the SCHISM source code from the schism-dev GitHub <a class="reference external" href="https://github.com/schism-dev">repository</a> and compile it for your high performance system. Manuals and build instructions are available on the <a class="reference external" href="http://ccrm.vims.edu/schismweb/">SCHISM Web Site</a></p>
</section>
<section id="compile-settings">
<h3>Compile Settings<a class="headerlink" href="#compile-settings" title="Link to this heading"></a></h3>
<p>We compile for Linux using CMake using the SCHISM
<a class="reference external" href="https://schism-dev.github.io/schism/master/getting-started/compilation.html">instructions for cmake</a></p>
<p>The bulk of the work is making sure you have a compiler and links to the required libraries.</p>
<p>For basic hydro-salinity runs we use the following cmake settings for which you will have to modify where GOTM is (also note our basic calibration doesn’t use GOTM):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cmake ../src -DPREC_EVAP=ON -DTVD_LIM=VL -DUSE_GOTM=ON -DGOTM_BASE=~/myscratch/gotm_home
</pre></div>
</div>
<p>Additional settings are needed to model age, sediment, biogeochemistry.</p>
</section>
</section>
<section id="git">
<h2>Git<a class="headerlink" href="#git" title="Link to this heading"></a></h2>
<p>Our materials are mostly distributed on our <a class="reference external" href="https://github.com/CADWRDeltaModeling">GitHub organization page</a></p>
<p>You will need Git. Instructions are widely available
online. The basic operation on the command line for cloning a repository looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">CADWRDeltaModeling</span><span class="o">/</span><span class="n">BayDeltaSCHISM</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</section>
<section id="bay-delta-package">
<h2>Bay-Delta Package<a class="headerlink" href="#bay-delta-package" title="Link to this heading"></a></h2>
<p>Clone the <a class="reference external" href="https://github.com/CADWRDeltaModeling/BayDeltaSCHISM">Bay-Delta Package on GitHub</a></p>
<p>The package includes a simulation template corresponding to the calibration, preprocessing tools and several of the tutorials that we will be using in the January hands-on Bay-Delta workshop. Help on the preprocessor and model setup can be found in the <a class="reference external" href="https://cadwrdeltamodeling.github.io/schimpy">schimpy</a> documentation. The package includes a /bin directory that needs to be populated by building the source or grabbing windows binaries if you want to learn on a high quality pc.</p>
<dl class="simple">
<dt>The current temporal coverage is calendar 2008-2023. There are several items in the distribution that are large and binary and distributed on the CNRA open data portal:</dt><dd><ul class="simple">
<li><p><a class="reference external" href="https://data.cnra.ca.gov/dataset/bay-delta-schism-atmospheric-collection-v1-0">SCHISM-compatible atmospheric data</a> which includes interpolated field data for wind, air pressure, and specific humidity, as well as reformatted <a class="reference external" href="https://www.ncdc.noaa.gov/data-access/model-data/model-datasets/north-american-regional-reanalysis-narr">North American Regional Reanalysis results</a> for radiation and precipitation.</p></li>
<li><p><a class="reference external" href="https://data.cnra.ca.gov/dataset/bay-delta-schism-coastal-roms-dataset-for-boundary-relaxation-draft">CenCOOS ROMS model output</a> for forcing salinity and temperature on the boundary</p></li>
<li><p><a class="reference external" href="https://data.cnra.ca.gov/dataset/bay-delta-schism-processed-bathymetry">Processed bathymetry data</a> for populating the model. This is based on our <a class="reference external" href="https://data.cnra.ca.gov/dataset/san-francisco-bay-and-sacramento-san-joaquin-delta-dem-for-modeling-version-4-2">Version 4.2 Bay-Delta Bathymetry release</a> with added smoothing steps to eliminate subgrid curvature (it preserves slope).</p></li>
</ul>
</dd>
</dl>
<p>Updates and transitions occur over the years. For instance, after 2020 we have moved from our own interpolated product to NOAA’s HRRR reanalysis product for wind.
Also in 2020, we moved to Hycom for coastal salinity and temperature and other air properties (humidity, etc) and to Hycom for coastal data. We
are still in the process of making these materials public and as we do so superseded links will carry messages.</p>
<p>One of the most common questions we get is “what is the official package”. If you are starting with SCHISM
we recommend using the master branch of the repository for the latest (somewhat beta) product or,
if replicability is paramount, a Git tagged version. It is always appropriate to ask this question. Our goal is that the sum of the VIMS code, our repo and the “big” data
sources are enough not only to grid the model but also to do things</p>
</section>
<section id="required-python-packages">
<h2>Required Python Packages<a class="headerlink" href="#required-python-packages" title="Link to this heading"></a></h2>
<p>Our preprocessor is Python based.
We recommend, and only support, <cite>conda &lt;https://docs.conda.io/en/latest/&gt;</cite> for package management.
Please avoid Anaconda; it is too big
and we can’t ensure compatibility between all the libraries if you include that much stuff.
Instructions for managing Python environments are on our general Delta Modeling documentation page for Python.</p>
<p>You will want the following tools:</p>
<blockquote>
<div><ul class="simple">
<li><p>schimpy [<a class="reference external" href="https://cadwrdeltamodeling.github.io/schimpy">project docs</a>] [<a class="reference external" href="https://github.com/CADWRDeltaModeling/schimpy">code repo</a>] for managing spatial inputs and templates plus utilities</p></li>
<li><p>vtools3  [<a class="reference external" href="https://cadwrdeltamodeling.github.io/vtools3/">project docs</a>] [<a class="reference external" href="https://github.com/CADWRDeltaModeling/vtools3">code repo</a>] for time series manipulation</p></li>
<li><p>dms-datastore [<a class="reference external" href="https://cadwrdeltamodeling.github.io/dms_datastore/html/index.html">project docs</a>] [<a class="reference external" href="https://github.com/CADWRDeltaModeling/dms_datastore">code repo</a>] | for managing data from common Bay-Delta sources.</p></li>
</ul>
</div></blockquote>
<p>Work tends to expand in a predictable way and we recommend a broader environment available
at the Bay-Delta SCHISM <cite>repo &lt;https://github.com/CADWRDeltaModeling/BayDeltaSCHISM/blob/master/schism_env.yml&gt;</cite>.
We can provide modest support for modern versions of the packages on fairly up-to-date Python platforms.</p>
</section>
<section id="configuration-system">
<h2>Configuration System<a class="headerlink" href="#configuration-system" title="Link to this heading"></a></h2>
<section id="id5">
<h3>Overview<a class="headerlink" href="#id5" title="Link to this heading"></a></h3>
<p>Many of the bdschism command line scripts and python utilities are based on conventions. However, there are still some names, identifiers and preferences
that need to be set as a default configuration. For instance the schism utilities have version numbers like <cite>interpolate_variables8</cite> and we
want to have a set it and forget it method for pushing out updates to this number, and also to leave the user a way of overriding this suggestion
(for instance if your machine is sticking with an older version’.
The configuration system is designed to provide flexible and hierarchical settings management for the application.
It leverages <cite>Dynaconf</cite> to load settings from yaml preference configuration files, allowing users to customize behavior at different levels. To some extent
you can ignore this initially.</p>
</section>
<section id="configuration-sources">
<h3>Configuration Sources<a class="headerlink" href="#configuration-sources" title="Link to this heading"></a></h3>
<p>The system follows a prioritized hierarchy when loading configuration files:</p>
<ol class="arabic simple">
<li><p><strong>Environment-Specific Configuration</strong>:
- If the environment variable <code class="docutils literal notranslate"><span class="pre">BDS_CONFIG</span></code> is set and points to a valid configuration file, this file is loaded with the highest precedence.</p></li>
<li><p><strong>Project-Level Configuration</strong>:
- If a file named <code class="docutils literal notranslate"><span class="pre">bds_config.yaml</span></code> exists in the current working directory, it is loaded next, overriding the package defaults.</p></li>
<li><p><strong>Package Default Configuration</strong>:
- A default configuration file, located at <code class="docutils literal notranslate"><span class="pre">config/bds_config.yaml</span></code> within the package, serves as the fallback if no other configurations are provided.</p></li>
</ol>
<p>The active configuration source is displayed during usage.</p>
</section>
<section id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Link to this heading"></a></h3>
<p>To retrieve the configuration settings, use:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">mypackage.config</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_settings</span>

<span class="n">settings</span> <span class="o">=</span> <span class="n">get_settings</span><span class="p">()</span>
</pre></div>
</div>
<p>You can then access configuration values as attributes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">link_style</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">link_style</span><span class="p">[</span><span class="s2">&quot;Windows&quot;</span><span class="p">]</span>
<span class="n">interpolate_function</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">interpolate_variables</span>
</pre></div>
</div>
</section>
<section id="example-configuration-file">
<h3>Example Configuration File<a class="headerlink" href="#example-configuration-file" title="Link to this heading"></a></h3>
<p>A partial <code class="docutils literal notranslate"><span class="pre">bds_config.yaml</span></code> file might look like:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">link_style</span><span class="p">:</span>
<span class="w">  </span><span class="nt">Windows</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">copy</span><span class="w">   </span><span class="c1"># options are &#39;copy&#39; or &#39;junction&#39;</span>
<span class="w">  </span><span class="nt">Linux</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">symlink</span><span class="w">  </span><span class="c1"># Linux users should always use this</span>

<span class="c1"># These are maps to the versioned names of utilities</span>
<span class="nt">interpolate_variables</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">interpolate_variables10</span>
<span class="nt">combine_hotstart</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">combine_hotstart7</span>
</pre></div>
</div>
</section>
<section id="overriding-configuration">
<h3>Overriding Configuration<a class="headerlink" href="#overriding-configuration" title="Link to this heading"></a></h3>
<p>Users can override default settings by:</p>
<ul class="simple">
<li><p>Setting the <code class="docutils literal notranslate"><span class="pre">BDS_CONFIG</span></code> environment variable to point to a custom configuration file.</p></li>
<li><p>Placing a <code class="docutils literal notranslate"><span class="pre">bds_config.yaml</span></code> file in the project’s root directory.</p></li>
</ul>
</section>
<section id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://www.dynaconf.com/">Dynaconf</a> for dynamic settings management.</p></li>
</ul>
</section>
</section>
<section id="bathymetry">
<h2>Bathymetry<a class="headerlink" href="#bathymetry" title="Link to this heading"></a></h2>
<p>The Bay-Delta Package already contains our latest bathymetry in geo-tiff form, processed as we use them to populate our mesh. Our bathymetry collection is available at the
<a class="reference external" href="https://data.cnra.ca.gov/dataset/san-francisco-bay-and-sacramento-san-joaquin-delta-dem-for-modeling-version-4-2">CNRA open portal bathymetry page</a>. Note however, that what goes in the model is the <a class="reference external" href="https://data.cnra.ca.gov/dataset/bay-delta-schism-processed-bathymetry">processed bathymetry</a>.</p>
</section>
<section id="complete-sample-inputs">
<span id="complete-sample"></span><h2>Complete Sample Inputs<a class="headerlink" href="#complete-sample-inputs" title="Link to this heading"></a></h2>
<p>Interested users may want to explore their options as far as clusters
and high performance environments without the confounding challenge of
learning the preprocessor.</p>
<p>A complete 21 day sample is under construction (March 2024).</p>
</section>
<section id="visit-schism-plug-in">
<h2>VisIt SCHISM Plug-in<a class="headerlink" href="#visit-schism-plug-in" title="Link to this heading"></a></h2>
<p><a class="reference external" href="http://visit.llnl.gov/">VisIt</a> is a visualization toolkit for high performance
numerical simulations. Note there is a visit-users forum and mailing list described at the
<a class="reference external" href="http://visitusers.org/">visit-users.org web site</a>. VisIt accesses specific data sources using plugins. At the time of writing, ours plugin works for SCHISM NetCDF UGRID 0.9 output from SCHISM. We do not distribute the base VisIt and since VisIt and the plugin version should be coordinated exactly.</p>
<p>SCHISM plugins:
* <a class="reference external" href="https://github.com/schism-dev/schism_visit_plugin/archive/refs/tags/1.1.0.zip">Source code</a>
* <a class="reference external" href="https://github.com/schism-dev/schism_visit_plugin/releases/download/1.1.0/schism_plugin_visit2.13.3_win64_vs2012_tag_1.1.0.zip">Compiled Windows binaries for 2.13.3</a>
* <a class="reference external" href="https://github.com/schism-dev/schism_visit_plugin/releases/download/1.1.0/schism_plugin_visit3.1.4_win64_vs2017_tag_1.1.0.zip">Compiled Windows binaries for 3.1.4</a>
* <a class="reference external" href="https://github.com/schism-dev/schism_visit_plugin/releases/download/1.1.0/schism_plugin_visit3.3.1_win64_vs2017_tag_1.1.0.zip">Compiled Windows binaries for 3.3.1</a></p>
<p>You may notice Visit documentation is becoming antiquated but still usable – the software is supported by a vigorous wiki and forum on the <a class="reference external" href="http://visitusers.org">VisIt community site</a>. We also offer the document <a class="reference external" href="https://msb.water.ca.gov/documents/86683/266737/visit_plugin_instruction.pdf">VisIT for SELFE users</a></p>
</section>
<section id="links-to-tools">
<h2>Links to tools<a class="headerlink" href="#links-to-tools" title="Link to this heading"></a></h2>
<p>These are mostly Windows or Linux tools. If you have information
about analogous tools on other platforms we will gratefully share it.</p>
<ul class="simple">
<li><p>We use <a class="reference external" href="https://docs.conda.io/en/latest/miniconda.html">Miniconda Python 3.9 through 3.11 64 bit</a>. If you use other package management methods you will have to intall our libraries from github and manage dependencies.</p></li>
<li><p>Tools like MobaXTerm or VS Code that can make terminal connections to linux clusters, in some cases using the x11 windows system which allows applications with windows. Note this recommendation has gotten old and many users now prefer VS Code.</p></li>
<li><p><a class="reference external" href="http://winscp.net/eng/index.php">WinSCP</a> for transfering files to and from linux servers.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Bay-Delta SCHISM Project" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="learning.html" class="btn btn-neutral float-right" title="Learning Resources for Bay-Delta SCHISM" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2014,2020 California Department of Water Resources.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: white;
    }
    /* Sidebar */
    .wy-nav-side {
      background: #86989B; /* existing theme was AFC1C4 and 86989B and CA7900 and white */
      
    }
  </style>


</body>
</html>
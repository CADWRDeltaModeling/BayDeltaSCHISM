<!-- Empty override file take the place of env/lib/python3.8/site-packages/sphinx_rtd_theme/breadcrumbs.html, which generates the top nav breadcrumbs. -->

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vegetation &mdash; Bay-Delta SCHISM</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/style.css?v=8686dbcc" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=ca842793"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Checklists" href="checklists.html" />
    <link rel="prev" title="Nudging Files" href="nudging.html" />
    <link href="../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/logo6.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Bay-Delta SCHISM Project</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getmodel.html">Installation And Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getmodel.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getmodel.html#schism-software-code-binaries">SCHISM Software Code/Binaries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getmodel.html#downloading">Downloading</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getmodel.html#compile-settings">Compile Settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getmodel.html#bay-delta-schism-python-package">Bay-Delta SCHISM Python Package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getmodel.html#id1">Downloading</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getmodel.html#contents">Contents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getmodel.html#bathymetry">Bathymetry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getmodel.html#complete-sample-inputs">Complete Sample Inputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getmodel.html#other-required-python-packages">Other Required Python Packages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getmodel.html#configuration-system">Configuration System</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getmodel.html#id3">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getmodel.html#configuration-file-locations-and-priorities">Configuration File Locations and Priorities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getmodel.html#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getmodel.html#example-configuration-file">Example Configuration File</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getmodel.html#visit-schism-plug-in">VisIt SCHISM Plug-in</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getmodel.html#links-to-tools">Links to tools</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../user_guide.html">Bay-Delta SCHISM User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../user_guide.html#setup">Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="processed_run.html">Running a Preprepared Setup</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../user_guide.html#model-essentials">Model Essentials</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../user_guide.html#overview">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="overview.html">Overview of a Bay-Delta SCHISM Run</a><ul>
<li class="toctree-l5"><a class="reference internal" href="overview.html#grid-and-spatial-data">Grid and Spatial Data</a><ul>
<li class="toctree-l6"><a class="reference internal" href="overview.html#templates">Templates</a></li>
<li class="toctree-l6"><a class="reference internal" href="overview.html#preprocessor">Preprocessor</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="overview.html#time-dependent-data">Time-dependent data</a></li>
<li class="toctree-l5"><a class="reference internal" href="overview.html#files-that-change-with-both-mesh-and-dates">Files that Change with Both Mesh and Dates</a></li>
<li class="toctree-l5"><a class="reference internal" href="overview.html#driver-files-param-tropic-nml-param-clinic-nml">Driver Files (param.tropic.nml, param.clinic.nml)</a></li>
<li class="toctree-l5"><a class="reference internal" href="overview.html#other-nomenclature-and-concepts">Other Nomenclature and Concepts</a></li>
<li class="toctree-l5"><a class="reference internal" href="overview.html#organizing-the-launch-directory">Organizing the Launch Directory</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="vignette.html">Vignette: Hindcast Bay Delta SCHISM at Delta Modeling Section with Preprocessor</a><ul>
<li class="toctree-l5"><a class="reference internal" href="vignette.html#windows">Windows</a></li>
<li class="toctree-l5"><a class="reference internal" href="vignette.html#linux">Linux</a><ul>
<li class="toctree-l6"><a class="reference internal" href="vignette.html#barotropic">Barotropic</a></li>
<li class="toctree-l6"><a class="reference internal" href="vignette.html#baroclinic">Baroclinic</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="files_and_directories.html">Required Files, Directory Structure and Recommended Study Practices</a><ul>
<li class="toctree-l5"><a class="reference internal" href="files_and_directories.html#required-files-and-structure">Required files and structure</a><ul>
<li class="toctree-l6"><a class="reference internal" href="files_and_directories.html#schism-launch-directory-structure">SCHISM launch directory structure</a></li>
<li class="toctree-l6"><a class="reference internal" href="files_and_directories.html#launch-directory">Launch directory</a></li>
<li class="toctree-l6"><a class="reference internal" href="files_and_directories.html#output-directory">Output directory</a></li>
<li class="toctree-l6"><a class="reference internal" href="files_and_directories.html#atmospheric-sflux-directory">Atmospheric (sflux) directory</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="files_and_directories.html#study-layout">Study layout</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="preprocess.html">Grid, Spatial Data and Preprocessor</a><ul>
<li class="toctree-l5"><a class="reference internal" href="preprocess.html#do-i-need-it-copy-existing-run-vs-preprocess-from-template">Do I need it? Copy existing run vs preprocess from template?</a></li>
<li class="toctree-l5"><a class="reference internal" href="preprocess.html#running-the-preprocessor">Running the preprocessor</a><ul>
<li class="toctree-l6"><a class="reference internal" href="preprocess.html#applying-the-template">Applying the template</a></li>
<li class="toctree-l6"><a class="reference internal" href="preprocess.html#partial-preprocessing-for-modification">Partial preprocessing for modification</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="preprocess.html#configuring-the-input-yaml">Configuring the input (yaml)</a></li>
<li class="toctree-l5"><a class="reference internal" href="preprocess.html#where-to-required-files-and-directory-structure">Where to? Required files and directory structure</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 current"><a class="reference internal" href="../user_guide.html#boundaries-input-files">Boundaries &amp; Input Files</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ocean.html">Prepare Ocean Boundary (elev2D.th.nc)</a></li>
<li class="toctree-l4"><a class="reference internal" href="flow_boundary.html">Inflow/Outflow Boundaries</a><ul>
<li class="toctree-l5"><a class="reference internal" href="flow_boundary.html#where-are-the-data">Where are the data?</a></li>
<li class="toctree-l5"><a class="reference internal" href="flow_boundary.html#clipping-to-run-dates-and-conversion-to-elapsed-time">Clipping to run dates and conversion to elapsed time</a></li>
<li class="toctree-l5"><a class="reference internal" href="flow_boundary.html#what-if-i-have-to-add-or-move-a-boundary">What if I have to add or move a boundary?</a></li>
<li class="toctree-l5"><a class="reference internal" href="flow_boundary.html#adding-data-from-other-sources-e-g-forecasts-other-models">Adding Data From Other Sources (e.g. Forecasts, other models)</a><ul>
<li class="toctree-l6"><a class="reference internal" href="flow_boundary.html#port_boundary.read_csv"><code class="docutils literal notranslate"><span class="pre">read_csv()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="atmospheric.html">Atmospheric setup</a><ul>
<li class="toctree-l5"><a class="reference internal" href="atmospheric.html#basic-introduction-and-requirements">Basic introduction and requirements</a></li>
<li class="toctree-l5"><a class="reference internal" href="atmospheric.html#where-are-the-data">Where are the data?</a></li>
<li class="toctree-l5"><a class="reference internal" href="atmospheric.html#pointing-to-the-data-with-make-links-full-py">Pointing to the data with make_links_full.py</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="barotropic.html">Ocean Boundary Stabilization: Barotropic Warmup</a><ul>
<li class="toctree-l5"><a class="reference internal" href="barotropic.html#introduction">Introduction</a></li>
<li class="toctree-l5"><a class="reference internal" href="barotropic.html#workflow">Workflow</a><ul>
<li class="toctree-l6"><a class="reference internal" href="barotropic.html#bctides-in">bctides.in</a></li>
<li class="toctree-l6"><a class="reference internal" href="barotropic.html#param-nml">param.nml</a></li>
<li class="toctree-l6"><a class="reference internal" href="barotropic.html#vgrid-in">vgrid.in</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="param.html">Key Run Parameters and Gotchas</a><ul>
<li class="toctree-l5"><a class="reference internal" href="param.html#runtime-settings">Runtime settings</a></li>
<li class="toctree-l5"><a class="reference internal" href="param.html#hotstart-settings">Hotstart settings</a></li>
<li class="toctree-l5"><a class="reference internal" href="param.html#nudging-settings">Nudging settings</a></li>
<li class="toctree-l5"><a class="reference internal" href="param.html#output-requests">Output requests</a></li>
<li class="toctree-l5"><a class="reference internal" href="param.html#settings-that-have-historically-gone-awry">Settings that have historically gone awry</a></li>
<li class="toctree-l5"><a class="reference internal" href="param.html#what-happens-when-schism-versions-get-advanced">What happens when SCHISM versions get advanced?</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="hotstart.html">Run Initialization and Restart (Hotstart)</a><ul>
<li class="toctree-l5"><a class="reference internal" href="hotstart.html#when-do-you-need-an-initial-condition-or-hotstart">When do you need an initial condition or hotstart?</a></li>
<li class="toctree-l5"><a class="reference internal" href="hotstart.html#what-is-the-difference-between-a-cold-and-hot-start">What is the difference between a cold and hot start?</a></li>
<li class="toctree-l5"><a class="reference internal" href="hotstart.html#combining-hotstarts">Combining hotstarts</a></li>
<li class="toctree-l5"><a class="reference internal" href="hotstart.html#choosing-a-good-start-time">Choosing a good start time</a></li>
<li class="toctree-l5"><a class="reference internal" href="hotstart.html#creating-a-hotstart-for-hydro-salt-temp-with-schism-hotstart">Creating a Hotstart for Hydro/Salt/Temp with schism_hotstart</a><ul>
<li class="toctree-l6"><a class="reference internal" href="hotstart.html#acquiring-the-data">Acquiring the data</a></li>
<li class="toctree-l6"><a class="reference internal" href="hotstart.html#configuring-the-hotstart-request-yaml">Configuring the Hotstart request (yaml)</a></li>
<li class="toctree-l6"><a class="reference internal" href="hotstart.html#running-the-hotstart-generator">Running the hotstart generator</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="nudging.html">Nudging Files</a><ul>
<li class="toctree-l5"><a class="reference internal" href="nudging.html#introduction-what-is-nudging">Introduction: What is nudging?</a></li>
<li class="toctree-l5"><a class="reference internal" href="nudging.html#do-i-need-nudging">Do I need nudging?</a></li>
<li class="toctree-l5"><a class="reference internal" href="nudging.html#generating-nudging-files">Generating nudging files</a><ul>
<li class="toctree-l6"><a class="reference internal" href="nudging.html#schimpy.nudging.Nudging"><code class="docutils literal notranslate"><span class="pre">Nudging</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="nudging.html#preparing-for-nudging-with-observed-data">Preparing for nudging with observed data</a></li>
<li class="toctree-l5"><a class="reference internal" href="nudging.html#nudging-example">Nudging Example</a></li>
<li class="toctree-l5"><a class="reference internal" href="nudging.html#sequencing-your-run">Sequencing your run</a></li>
<li class="toctree-l5"><a class="reference internal" href="nudging.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Vegetation</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#aquatic-vegetation-in-schism">Aquatic Vegetation in SCHISM</a></li>
<li class="toctree-l5"><a class="reference internal" href="#approximations-and-preprocessor">Approximations and preprocessor</a></li>
<li class="toctree-l5"><a class="reference internal" href="#effective-stem-density">Effective Stem Density</a></li>
<li class="toctree-l5"><a class="reference internal" href="#height">Height</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide.html#inspection-of-model-setup">Inspection of Model Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="checklists.html">Checklists</a><ul>
<li class="toctree-l5"><a class="reference internal" href="checklists.html#running-a-processed-setup">Running a Processed Setup</a></li>
<li class="toctree-l5"><a class="reference internal" href="checklists.html#simple-hindcast-runs">Simple Hindcast Runs</a><ul>
<li class="toctree-l6"><a class="reference internal" href="checklists.html#cbox-choose-run-dates">☐ Choose run dates</a></li>
<li class="toctree-l6"><a class="reference internal" href="checklists.html#cbox-apply-template-to-existing-mesh">☐ Apply template to existing mesh</a></li>
<li class="toctree-l6"><a class="reference internal" href="checklists.html#cbox-collect-time-series-inputs">☐ Collect time series inputs</a></li>
<li class="toctree-l6"><a class="reference internal" href="checklists.html#cbox-hotstart-can-be-concurrent-with-barotropic">☐ Hotstart (can be concurrent with barotropic)</a></li>
<li class="toctree-l6"><a class="reference internal" href="checklists.html#cbox-nudging-can-be-concurrent-with-barotropic">☐ Nudging (can be concurrent with barotropic)</a></li>
<li class="toctree-l6"><a class="reference internal" href="checklists.html#cbox-barotropic-warmup">☐ Barotropic warmup</a></li>
<li class="toctree-l6"><a class="reference internal" href="checklists.html#cbox-baroclinic-simulation">☐ Baroclinic simulation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="run_tests.html">Test Suite for Prechecking Runs</a><ul>
<li class="toctree-l5"><a class="reference internal" href="run_tests.html#using-the-tests">Using the Tests</a></li>
<li class="toctree-l5"><a class="reference internal" href="run_tests.html#writing-run-tests">Writing Run Tests</a><ul>
<li class="toctree-l6"><a class="reference internal" href="run_tests.html#basics-of-testing">Basics of testing</a></li>
<li class="toctree-l6"><a class="reference internal" href="run_tests.html#test-fixtures">Test Fixtures</a></li>
<li class="toctree-l6"><a class="reference internal" href="run_tests.html#markers">Markers</a></li>
<li class="toctree-l6"><a class="reference internal" href="run_tests.html#what-to-test">What to test</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide.html#output-files">Output Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="output.html">Output</a><ul>
<li class="toctree-l5"><a class="reference internal" href="output.html#flavors-of-output">Flavors of output</a></li>
<li class="toctree-l5"><a class="reference internal" href="output.html#what-you-should-plan-in-advance">What you should plan in advance</a></li>
<li class="toctree-l5"><a class="reference internal" href="output.html#request-station-output">Request station output</a><ul>
<li class="toctree-l6"><a class="reference internal" href="output.html#station-in">station.in</a></li>
<li class="toctree-l6"><a class="reference internal" href="output.html#flow-xsects-yaml-and-fluxflags-out">flow_xsects.yaml and fluxflags.out</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="output.html#request-dense-output">Request dense output:</a></li>
<li class="toctree-l5"><a class="reference internal" href="output.html#working-with-staout-files">Working with staout_ files</a></li>
<li class="toctree-l5"><a class="reference internal" href="output.html#working-with-flux-out-files">Working with flux.out files</a></li>
<li class="toctree-l5"><a class="reference internal" href="output.html#visualizing-dense-nc-output-in-visit">Visualizing dense (.nc) output in VisIt</a></li>
<li class="toctree-l5"><a class="reference internal" href="output.html#schism-s-extraction-utilities">SCHISM’s extraction utilities</a></li>
<li class="toctree-l5"><a class="reference internal" href="output.html#quick-validation-plots">Quick validation plots</a></li>
<li class="toctree-l5"><a class="reference internal" href="output.html#where-do-we-keep-specialized-postprocessing-materials">Where do we keep specialized postprocessing materials?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide.html#computing-resources">Computing Resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.html">Intro to Clusters and High Performance Computing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="hpc.html#anatomy-of-a-cluster">Anatomy of a Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="hpc.html#figure-cluster-components">Figure: Cluster Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="hpc.html#compilation">Compilation</a></li>
<li class="toctree-l4"><a class="reference internal" href="hpc.html#job-submission">Job Submission</a></li>
<li class="toctree-l4"><a class="reference internal" href="hpc.html#compute-nodes-and-message-passing">Compute Nodes and Message Passing</a></li>
<li class="toctree-l4"><a class="reference internal" href="hpc.html#input-output-and-scribes">Input/Output and Scribes</a></li>
<li class="toctree-l4"><a class="reference internal" href="hpc.html#example-slurm-launch-file">Example Slurm Launch File</a></li>
<li class="toctree-l4"><a class="reference internal" href="hpc.html#example-shell-script-to-run-schism">Example Shell Script to Run SCHISM</a></li>
<li class="toctree-l4"><a class="reference internal" href="hpc.html#intro-to-batch-cloud-cluster">Intro to Batch Cloud Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="hpc.html#figure-azure-batch-cluster-components">Figure: Azure Batch Cluster Components</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="azure.html">Running on Azure Batch</a><ul>
<li class="toctree-l4"><a class="reference internal" href="azure.html#setup-azure">Setup Azure</a><ul>
<li class="toctree-l5"><a class="reference internal" href="azure.html#download-azure-utilities">Download Azure Utilities</a></li>
<li class="toctree-l5"><a class="reference internal" href="azure.html#login">Login</a></li>
<li class="toctree-l5"><a class="reference internal" href="azure.html#create-a-resource-group">Create a Resource Group</a></li>
<li class="toctree-l5"><a class="reference internal" href="azure.html#download-azure-dms-batch">Download azure_dms_batch</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="azure.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="bds_guide_azure.html">Step-by-step: Bay-Delta SCHISM on Azure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="bds_guide_azure.html#initial-setup">Initial Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="bds_guide_azure.html#upload-applications">Upload Applications</a><ul>
<li class="toctree-l5"><a class="reference internal" href="bds_guide_azure.html#schism">SCHISM</a></li>
<li class="toctree-l5"><a class="reference internal" href="bds_guide_azure.html#python-packages">Python Packages</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="bds_guide_azure.html#uploading-model-input-files">Uploading Model Input Files</a><ul>
<li class="toctree-l5"><a class="reference internal" href="bds_guide_azure.html#azcopy-commands">azcopy commands</a></li>
<li class="toctree-l5"><a class="reference internal" href="bds_guide_azure.html#azcopy-options">azcopy options</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="bds_guide_azure.html#running-model-simulation">Running Model Simulation</a><ul>
<li class="toctree-l5"><a class="reference internal" href="bds_guide_azure.html#simple-run-config">Simple Run Config</a></li>
<li class="toctree-l5"><a class="reference internal" href="bds_guide_azure.html#spot-pricing-config">Spot Pricing Config</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide.html#advanced-tasks-and-concepts">Advanced Tasks and Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="problems.html">Common Problems and Diagnosis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="problems.html#where-does-schism-write-error-messages">Where does SCHISM write error messages?</a></li>
<li class="toctree-l4"><a class="reference internal" href="problems.html#my-run-says-segfault">My run says “segfault”</a></li>
<li class="toctree-l4"><a class="reference internal" href="problems.html#the-runs-seems-very-slow-compared-to-normal">The runs seems very slow compared to normal</a></li>
<li class="toctree-l4"><a class="reference internal" href="problems.html#dry-boundary">Dry boundary</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="age.html">Simulating water age</a><ul>
<li class="toctree-l4"><a class="reference internal" href="age.html#compile-with-age">Compile with age</a></li>
<li class="toctree-l4"><a class="reference internal" href="age.html#parameters-in-param-nml">Parameters in param.nml</a></li>
<li class="toctree-l4"><a class="reference internal" href="age.html#additional-ic-files">Additional *.ic files</a></li>
<li class="toctree-l4"><a class="reference internal" href="age.html#hotstart-considerations">Hotstart considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="age.html#typical-output-processing">Typical output processing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sea_level_rise.html">Sea Level Rise</a></li>
<li class="toctree-l3"><a class="reference internal" href="sources.html">Sources, Sinks, Delta Channel Depletions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="sources.html#identifying-source-locations-and-names-in-preprocessor">Identifying source locations and names in preprocessor</a></li>
<li class="toctree-l4"><a class="reference internal" href="sources.html#delta-and-suisun-channel-depletions">Delta and Suisun channel depletions</a></li>
<li class="toctree-l4"><a class="reference internal" href="sources.html#making-sure-you-includ-the-th-files-for-sources-sinks">Making sure you includ the th files for sources/sinks</a></li>
<li class="toctree-l4"><a class="reference internal" href="sources.html#tracer-concentrations">Tracer concentrations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="structures.html">Hydraulic Structures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="structures.html#where-is-the-documentation">Where is the documentation?</a></li>
<li class="toctree-l4"><a class="reference internal" href="structures.html#setting-up-the-mesh-to-make-structures-easy">Setting up the mesh to make structures easy</a></li>
<li class="toctree-l4"><a class="reference internal" href="structures.html#preventing-dry-boundary-messages">Preventing dry boundary messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="structures.html#important-bay-delta-examples">Important Bay-Delta examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mesh.html">Gridding the Horizontal Mesh</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mesh.html#meshing">Meshing</a><ul>
<li class="toctree-l5"><a class="reference internal" href="mesh.html#meshing-considerations-for-schism">Meshing considerations for SCHISM</a><ul>
<li class="toctree-l6"><a class="reference internal" href="mesh.html#video-joseph-zhang-schism-summit">Video (Joseph Zhang, SCHISM summit)</a></li>
<li class="toctree-l6"><a class="reference internal" href="mesh.html#recap-checklist">Recap/checklist</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="mesh.html#getting-to-know-sms">Getting to know SMS</a><ul>
<li class="toctree-l6"><a class="reference internal" href="mesh.html#sample-data">Sample Data</a></li>
<li class="toctree-l6"><a class="reference internal" href="mesh.html#id1">Recap checklist</a></li>
<li class="toctree-l6"><a class="reference internal" href="mesh.html#presentation-clip-dems-and-efficient-use-of-dems">Presentation: clip_dems and efficient use of DEMS</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="mesh.html#building-the-bay-delta-mesh-the-standard-way">Building the Bay-Delta mesh the standard way</a></li>
<li class="toctree-l5"><a class="reference internal" href="mesh.html#presentation-meshing-consideration-for-marshes-and-restoration">Presentation: Meshing consideration for marshes and restoration</a></li>
<li class="toctree-l5"><a class="reference internal" href="mesh.html#merging-stitching-sms-mesh-maps-new-work-flooded-islands-etc">Merging/Stitching SMS mesh/maps (new work, flooded islands, etc)</a><ul>
<li class="toctree-l6"><a class="reference internal" href="mesh.html#video">Video</a></li>
<li class="toctree-l6"><a class="reference internal" href="mesh.html#id2">Recap/checklist</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="mesh.html#vertical-mesh-setup">Vertical mesh setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="mesh.html#checklist-for-after-you-change-the-mesh">Checklist for after you change the mesh</a></li>
<li class="toctree-l4"><a class="reference internal" href="mesh.html#performance-tuning">Performance Tuning</a><ul>
<li class="toctree-l5"><a class="reference internal" href="mesh.html#the-analyze-dt-utility">The analyze_dt Utility</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="utilities.html">Utilities and Scripts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="utilities.html#gis-conversion">GIS Conversion</a><ul>
<li class="toctree-l5"><a class="reference internal" href="utilities.html#mesh-to-shapefile">Mesh to shapefile</a></li>
<li class="toctree-l5"><a class="reference internal" href="utilities.html#polygons-to-from-shapefile">Polygons to/from shapefile</a></li>
<li class="toctree-l5"><a class="reference internal" href="utilities.html#polylines-to-from-shapefile">Polylines to/from shapefile</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="utilities.html#hotstart-inventory-convert-iteration-numbers-to-dates">Hotstart Inventory: Convert iteration numbers to dates</a></li>
<li class="toctree-l4"><a class="reference internal" href="utilities.html#model-time-and-multi-clip">model_time and multi_clip</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../learning.html">Learning Resources for Bay-Delta SCHISM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../learning.html#general-resources-and-tools">General Resources and Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bay_delta_tutorials.html">Bay-Delta SCHSIM Tutorials</a></li>
<li class="toctree-l3"><a class="reference internal" href="../linux.html">Linux Hints for SCHISM</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../linux.html#using-linux-from-windows">Using Linux from Windows</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../linux.html#basic-connection">Basic connection</a></li>
<li class="toctree-l5"><a class="reference internal" href="../linux.html#copying-files">Copying files</a></li>
<li class="toctree-l5"><a class="reference internal" href="../linux.html#xwindow-emulation">XWindow Emulation</a></li>
<li class="toctree-l5"><a class="reference internal" href="../linux.html#all-in-one-mobaxterm">All-in-one: MobaXTerm</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../linux.html#copying-a-run-safely">Copying a Run Safely</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../linux.html#special-case-remote-computer-using-rsa-keys">Special Case: Remote Computer Using RSA Keys</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../linux.html#symbolic-links">Symbolic links</a></li>
<li class="toctree-l4"><a class="reference internal" href="../linux.html#archives-and-tarballs">Archives and Tarballs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../linux.html#essential-commands-in-a-schism-context">Essential commands in a SCHISM context</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../learning.html#manuals">Manuals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learning.html#getting-help">Getting Help</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learning.html#vims-and-other-external-resources">VIMS and Other External Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../documentation.html">Contributing to the Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../documentation.html#windows">Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../documentation.html#linux">Linux</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../documentation.html#how-it-works">How it works</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../documentation.html#local-html-pages">Local html pages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../documentation.html#github-pages">GitHub Pages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../documentation.html#examples-and-concepts">Examples and Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../meta_doc/doc_sphinx.html">Sphinx Documentation Principles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../meta_doc/doc_sphinx.html#headings-order">Headings order</a></li>
<li class="toctree-l4"><a class="reference internal" href="../meta_doc/doc_sphinx.html#baydeltaschism-specifics">BayDeltaSCHISM Specifics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../meta_doc/doc_sphinx.html#sphinx-examples">Sphinx examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../meta_doc/doc_sphinx.html#math">Math</a></li>
<li class="toctree-l4"><a class="reference internal" href="../meta_doc/doc_sphinx.html#figures">Figures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../meta_doc/doc_sphinx.html#diagrams">Diagrams</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../meta_doc/doc_sphinx.html#sphinx-mermaid-directive">Sphinx Mermaid Directive</a></li>
<li class="toctree-l5"><a class="reference internal" href="../meta_doc/doc_sphinx.html#embedding-charts-with-svg">Embedding Charts with SVG</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../meta_doc/doc_sphinx.html#embedding-videos">Embedding Videos</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../meta_doc/doc_mermaid.html">Mermaid Chart Principles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../meta_doc/doc_mermaid.html#baydeltaschism-standards">BayDeltaSCHISM Standards</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../meta_doc/doc_mermaid.html#symbols">Symbols</a></li>
<li class="toctree-l5"><a class="reference internal" href="../meta_doc/doc_mermaid.html#style">Style</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../meta_doc/doc_mermaid.html#vs-code-plugin">VS Code plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../meta_doc/doc_mermaid.html#cool-stuff">Cool stuff</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../meta_doc/doc_mermaid.html#clickables">Clickables</a></li>
<li class="toctree-l5"><a class="reference internal" href="../meta_doc/doc_mermaid.html#icons-in-an-element">Icons in an Element</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../meta_doc/doc_click.html">Click Documentation Principles</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../calibration.html">Calibration Report and References</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../calibration.html#calibration">Calibration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../help.html">Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help.html#support">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refs.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Bay-Delta SCHISM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <!-- Empty override file take the place of env/lib/python3.8/site-packages/sphinx_rtd_theme/breadcrumbs.html, which generates the top nav breadcrumbs. -->
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="vegetation">
<h1>Vegetation<a class="headerlink" href="#vegetation" title="Link to this heading"></a></h1>
<section id="aquatic-vegetation-in-schism">
<h2>Aquatic Vegetation in SCHISM<a class="headerlink" href="#aquatic-vegetation-in-schism" title="Link to this heading"></a></h2>
<p>In Bay-Delta SCHISM, the modeling of submerged aquatic vegetation (SAV)
is on by default, with data in or approximations in
Franks Tract, Cache Complex, South Delta.</p>
<p>SCHISM has a submerged aquatic vegetation module  introduced by <span id="id1">[<a class="reference internal" href="../refs.html#id5" title="Yinglong J. Zhang, Nathan Gerdts, Eli Ateljevich, and Kijin Nam. Simulating vegetation effects on flows in 3d using an unstructured grid model: model development and validation. Ocean Dynamics, 2020. URL: http://link.springer.com/10.1007/s10236-019-01333-8 (visited on 2022-11-05), doi:10.1007/s10236-019-01333-8.">ZGAN20</a>]</span>, and covered in
online manual which includes the effects of drag within the canopy,
and simple representation of turbulence production. Biogeochemical linkages (shading, nutrient competition) are also included
in the water quality/ecological modules. In the instances where we have introduced vegetation (Cache Complex, Franks Tract, South Delta, Sherman Lake)  it has helped reproduced the distribution of physical flow.</p>
<p>SCHISM can model submerged vegetation (example: Egeria Densa) or with a suitably high
canopy emergent vegetation vegetation, such as tule. Primrose can also be
approximated as emergent. Accommodation must be made for patchy floating species such
as hyacinth.</p>
<p>In SCHISM, vegetation is enabled using the parameter isav=1 in the control file param.nml. For turbulence production
the native “SCHISM” turbulence closures must be used, not GOTM.</p>
<table class="docutils align-default" id="id3">
<caption><span class="caption-number">Table 2 </span><span class="caption-text">Vegetation Files</span><a class="headerlink" href="#id3" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 25.0%" />
<col style="width: 25.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>SCHISM file name</p></th>
<th class="head"><p>Example preprocessor name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sav_N.gr3</p></td>
<td><p>sav_density.yaml</p></td>
<td><p>stem density per square meter</p></td>
</tr>
<tr class="row-odd"><td><p>sav_D.gr3</p></td>
<td><p>sav_diameter</p></td>
<td><p>stem diameter</p></td>
</tr>
<tr class="row-even"><td><p>sav_cd.gr3</p></td>
<td><p>constant</p></td>
<td><p>coefficient of drag (we currently use 0.20 to 0.28, but see text below)</p></td>
</tr>
<tr class="row-odd"><td><p>sav_h.gr3</p></td>
<td><p>sav_height.yaml</p></td>
<td><p>canopy height</p></td>
</tr>
</tbody>
</table>
<p>The first three parameters are multiplied by one another. There is rarely enough data to make them
statistically identifiable individually, a point revisited below.
Canopy height is from the bed. We usually assume the canopy reaches -0.15cm NAVD in the main Delta.
which is a compromise based on the fact that apparent effective density diminishes in the upper centimeters.</p>
</section>
<section id="approximations-and-preprocessor">
<h2>Approximations and preprocessor<a class="headerlink" href="#approximations-and-preprocessor" title="Link to this heading"></a></h2>
<p>Key challenges when modeling vegetation with SCHISM are:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>data coverage</p></li>
<li><p>interpretation of data as effective density</p></li>
<li><p>including enough vertical resolution to allow a boundary layer over the vegetation</p></li>
</ol>
</div></blockquote>
</section>
<section id="effective-stem-density">
<h2>Effective Stem Density<a class="headerlink" href="#effective-stem-density" title="Link to this heading"></a></h2>
<p>Because we usually don’t have detailed knowledge of the drag coefficient diameter and stem density
and because they all end up multiplied by one another, there is effectively
a single degree of freedom when it comes to the overall density of the vegetation field.</p>
<p>We fix the diameter and density and use an “effective stem density” that accounts for variation in drag,
subgrid heterogeneity of the field as well as point values of stem density. In the past we have used
stem densities of 10-30 per meter squared (lower-medium) and 30-60 per meter squared (heavy) coupled with a drag
coefficient of 0.20 to 0.26. You may see legacy files where the stem density is much lower and the drag higher, but
the product in this case is the same general magnitude. For instance, for a fixed diameter 8 stems/m^2 and drag 1.13
give the same product as instead of 20-60 stems/m^2 and drag 0.28.</p>
<p>At times when remote sensing was not available, the template included estimates based on heuristics about depth,
using only one high and one low value, consistent for the most part with the <span id="id2">[<a class="reference internal" href="../refs.html#id4" title="John Durand, William Fleenor, Richard and McElreath, Max Planck Institute for Evolutionary Anthropology, Maria J. Santos, and Peter and and Moyle. Physical controls on the distribution of the submersed aquatic weed egeria densa in the sacramento-san joaquin delta, california and implications for habitat restoration. San Francisco Estuary and Watershed Science, 2016. URL: http://escholarship.org/uc/item/85c9h479, doi:10.15447/sfews.2016v14iss1art4.">DFaM+16</a>]</span>
conclusion that most Egeria densa grew between depths of 2m and -1m MLLW and assuming that density is higher in water that
is less than 0.9m at low water.</p>
<p>In areas where we have imagery, we use processed Normalized Density Vegetation Index from the Ustin lab at UC Davis.
More properly, these are modified NDVI (mNDVI) with more attention in the margins of the
red band and slightly lower values than ordinary NDVI. The NVDI image is often the best
source of information on spatial distribution of effective density. However, NDVI is not
as accurate in the water as it is for terrestrial vegetation. Absolute values
vary between captures so there is still a reliance on field descriptions and a degree of fitting on overall strength
based on looking at the histogram and breaking it into a “no”, “low” and “high” bracket.
The “no vegetation” or zero density is typically assigned for mNDVI &lt; -0.05, but for some
images histogram is clustered at lower values.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">- attribute: raster_to_nodes.raster_to_nodes(mesh, nodes_sel, &#39;//path/to/delta_NDVI.tif&#39;,</span>
<span class="go">    bins=[-998.,-0.2,0,0.4,1.0],</span>
<span class="go">    mapped_values=[-999., 0., 10., 30., 60., -999.],</span>
<span class="go">    mask_value=0.,</span>
<span class="go">    fill_value=-0.21)</span>
<span class="go">  name: Clifton Court</span>
<span class="go">  type: none</span>
<span class="go">  imports: schimpy.raster_to_nodes</span>
<span class="go">  vertices:</span>
<span class="go">  - - 622760.2566469825</span>
<span class="go">    - 4191499.7722536493</span>
<span class="go">    ....</span>
</pre></div>
</div>
<p>The <a class="reference external" href="https://cadwrdeltamodeling.github.io/schimpy/schimpy.html#schimpy.raster_to_nodes.raster_to_nodes" title="(in schimpy v1.12.dev2+g5011294)"><code class="xref py py-func docutils literal notranslate"><span class="pre">schimpy.raster_to_nodes.raster_to_nodes()</span></code></a> manual page has more info on this function. Index <cite>i</cite> in the
mapped values is applied between <cite>i-1</cite> and <cite>i</cite> in the bins. The mapped values have to be larger than the number of bins,
which is an artifact of the numpy digitize method used to implement the function.</p>
</section>
<section id="height">
<h2>Height<a class="headerlink" href="#height" title="Link to this heading"></a></h2>
<p>Template formulas usually enforce a minimum height of (say 0.25m below),
a maximum (say 1.0m below) and assume that the vegetation grow to a effective height that reaches just
below a typical low water mark, slightly lower than the highest whorl you’d see in a boat).
Here is a sample from <cite>sav_height.yaml</cite>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">- name: Franks Tract</span>
<span class="go">  type: none</span>
<span class="go">  attribute: &#39;max(0.25,min(1.0,z-0.01))&#39;</span>
<span class="go">  vertices:</span>
<span class="go">     ... coordinates</span>
</pre></div>
</div>
<p>When a mix of emergent and submerged vegetation is required, a more complex formula is required. Emergent
vegetation is represented using exaggerated height.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="nudging.html" class="btn btn-neutral float-left" title="Nudging Files" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="checklists.html" class="btn btn-neutral float-right" title="Checklists" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2014,2020 California Department of Water Resources.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: white;
    }
    /* Sidebar */
    .wy-nav-side {
      background: #86989B; /* existing theme was AFC1C4 and 86989B and CA7900 and white */
      
    }
  </style>


</body>
</html>